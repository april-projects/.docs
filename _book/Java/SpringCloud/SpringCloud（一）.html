<!DOCTYPE HTML><html lang="zh-hans"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>SpringCloud（一） · April</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content=""><meta name="generator" content="GitBook 3.2.3"><meta name="author" content="April"><link rel="stylesheet" href="../../gitbook/style.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.min.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-gtalk/gtalk.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-insert-logo/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css"><link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png"><link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon"><link rel="next" href="SpringCloud（二）.html"><link rel="prev" href="./"><link rel="shortcut icon" href="../../https:/tencent.cos.mobaijun.com/img/gitbook/favicon.ico" type="image/x-icon"><link rel="bookmark" href="../../https:/tencent.cos.mobaijun.com/img/gitbook/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="../../https:/tencent.cos.mobaijun.com/img/gitbook/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="120x120" href="../../https:/tencent.cos.mobaijun.com/img/gitbook/android-chrome-192x192.png"><link rel="apple-touch-icon" sizes="180x180" href="../../https:/tencent.cos.mobaijun.com/img/gitbook/android-chrome-192x192.png"></head><body><div class="book"><div class="book-summary"><div id="book-search-input" role="search"><input type="text" placeholder="输入并搜索"></div><nav role="navigation"><ul class="summary"><li><a href="https://www.mobaijun.com" target="_blank" class="custom-link">框架师</a></li><li><a href="https://github.com/mobaijun" target="_blank" class="custom-link">GitHub</a></li><li><a href="https://gitee.com/mobaijun" target="_blank" class="custom-link">Gitee</a></li><li><a href="https://nav.mobaijun.com" target="_blank" class="custom-link">寻·妙</a></li><li class="divider"></li><li class="chapter" data-level="1.1" data-path="../../"><a href="../../"><b>1.1.</b> README</a></li><li class="chapter" data-level="1.2" data-path="../../codesytel/"><a href="../../codesytel/"><b>1.2.</b> 常用编程技巧和代码规范总结</a></li><li class="chapter" data-level="1.3" data-path="../../"><a href="../../"><b>1.3.</b> Java</a><ul class="articles"><li class="chapter" data-level="1.3.1" data-path="../../"><a href="../../"><b>1.3.1.</b> JVM</a><ul class="articles"><li class="chapter" data-level="1.3.1.1" data-path="../jvm/JVM运行时区域详解.html"><a href="../jvm/JVM运行时区域详解.html"><b>1.3.1.1.</b> JVM运行时区域详解</a></li></ul></li><li class="chapter" data-level="1.3.2" data-path="../JUC/"><a href="../JUC/"><b>1.3.2.</b> JUC</a><ul class="articles"><li class="chapter" data-level="1.3.2.1" data-path="../JUC/JUC（一）.html"><a href="../JUC/JUC（一）.html"><b>1.3.2.1.</b> JUC（一）</a></li><li class="chapter" data-level="1.3.2.2" data-path="../JUC/JUC（二）.html"><a href="../JUC/JUC（二）.html"><b>1.3.2.2.</b> JUC（二）</a></li><li class="chapter" data-level="1.3.2.3" data-path="../JUC/JUC（三）.html"><a href="../JUC/JUC（三）.html"><b>1.3.2.3.</b> JUC（三）</a></li></ul></li><li class="chapter" data-level="1.3.3" data-path="../NIO/"><a href="../NIO/"><b>1.3.3.</b> NIO</a><ul class="articles"><li class="chapter" data-level="1.3.3.1" data-path="../NIO/Java NIO（一）.html"><a href="../NIO/Java NIO（一）.html"><b>1.3.3.1.</b> Java NIO（一）</a></li><li class="chapter" data-level="1.3.3.2" data-path="../NIO/Java NIO（二）.html"><a href="../NIO/Java NIO（二）.html"><b>1.3.3.2.</b> Java NIO（二）</a></li></ul></li><li class="chapter" data-level="1.3.4" data-path="./"><a href="./"><b>1.3.4.</b> SpringCloud</a><ul class="articles"><li class="chapter active" data-level="1.3.4.1" data-path="SpringCloud（一）.html"><a href="SpringCloud（一）.html"><b>1.3.4.1.</b> SpringCloud（一）</a></li><li class="chapter" data-level="1.3.4.2" data-path="SpringCloud（二）.html"><a href="SpringCloud（二）.html"><b>1.3.4.2.</b> SpringCloud（二）</a></li><li class="chapter" data-level="1.3.4.3" data-path="SpringCloud（三）.html"><a href="SpringCloud（三）.html"><b>1.3.4.3.</b> SpringCloud（三）</a></li><li class="chapter" data-level="1.3.4.4" data-path="SpringCloud（四）.html"><a href="SpringCloud（四）.html"><b>1.3.4.4.</b> SpringCloud（四）</a></li></ul></li><li class="chapter" data-level="1.3.5" data-path="../算法/"><a href="../算法/"><b>1.3.5.</b> 算法</a><ul class="articles"><li class="chapter" data-level="1.3.5.1" data-path="../算法/数据结构与算法（一）.html"><a href="../算法/数据结构与算法（一）.html"><b>1.3.5.1.</b> 数据结构与算法（一）</a></li><li class="chapter" data-level="1.3.5.2" data-path="../算法/数据结构与算法（二）.html"><a href="../算法/数据结构与算法（二）.html"><b>1.3.5.2.</b> 数据结构与算法（二）</a></li><li class="chapter" data-level="1.3.5.3" data-path="../算法/数据结构与算法（三）.html"><a href="../算法/数据结构与算法（三）.html"><b>1.3.5.3.</b> 数据结构与算法（三）</a></li><li class="chapter" data-level="1.3.5.4" data-path="../算法/数据结构与算法（四）.html"><a href="../算法/数据结构与算法（四）.html"><b>1.3.5.4.</b> 数据结构与算法（四）</a></li><li class="chapter" data-level="1.3.5.5" data-path="../算法/数据结构与算法（五）.html"><a href="../算法/数据结构与算法（五）.html"><b>1.3.5.5.</b> 数据结构与算法（五）</a></li></ul></li></ul></li><li class="chapter" data-level="1.4" data-path="../../Linux/"><a href="../../Linux/"><b>1.4.</b> Linux</a><ul class="articles"><li class="chapter" data-level="1.4.1" data-path="../../Linux/Docker容器技术.html"><a href="../../Linux/Docker容器技术.html"><b>1.4.1.</b> Docker容器技术</a></li></ul></li><li class="chapter" data-level="1.5" data-path="../../other/"><a href="../../other/"><b>1.5.</b> 其他</a><ul class="articles"><li class="chapter" data-level="1.5.1" data-path="../../other/C语言程序设计/"><a href="../../other/C语言程序设计/"><b>1.5.1.</b> C语言程序设计</a><ul class="articles"><li class="chapter" data-level="1.5.1.1" data-path="../../other/C语言程序设计/C语言（一）.html"><a href="../../other/C语言程序设计/C语言（一）.html"><b>1.5.1.1.</b> C语言（一）</a></li><li class="chapter" data-level="1.5.1.2" data-path="../../other/C语言程序设计/C语言（三）.html"><a href="../../other/C语言程序设计/C语言（三）.html"><b>1.5.1.2.</b> C语言（三）</a></li><li class="chapter" data-level="1.5.1.3" data-path="../../other/C语言程序设计/C语言（二）.html"><a href="../../other/C语言程序设计/C语言（二）.html"><b>1.5.1.3.</b> C语言（二）</a></li></ul></li></ul></li><li class="divider"></li><li><a href="https://www.gitbook.com" target="blank" class="gitbook-link">本书使用 GitBook 发布</a></li></ul></nav></div><div class="book-body"><div class="body-inner"><div class="book-header" role="navigation"><h1><i class="fa fa-circle-o-notch fa-spin"></i> <a href="../..">SpringCloud（一）</a></h1></div><div class="page-wrapper" tabindex="-1" role="main"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="normal markdown-section"><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/0.jpg" alt="image-20220317173734208"></p><h1 id="&#x5FAE;&#x670D;&#x52A1;&#x57FA;&#x7840;"><a name="&#x5FAE;&#x670D;&#x52A1;&#x57FA;&#x7840;" class="plugin-anchor" href="#&#x5FAE;&#x670D;&#x52A1;&#x57FA;&#x7840;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5FAE;&#x670D;&#x52A1;&#x57FA;&#x7840;</h1><p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x6B64;&#x9636;&#x6BB5;&#x5B66;&#x4E60;&#x63A8;&#x8350;&#x7684;&#x7535;&#x8111;&#x914D;&#x7F6E;&#xFF0C;&#x81F3;&#x5C11;&#x914D;&#x5907;4&#x6838;&#x5FC3;CPU&#xFF08;&#x4E3B;&#x9891;3.0Ghz&#x4EE5;&#x4E0A;&#xFF09;+16GB&#x5185;&#x5B58;&#xFF0C;&#x5426;&#x5219;&#x5361;&#x5230;&#x4F60;&#x6000;&#x7591;&#x4EBA;&#x751F;&#x3002;</p><p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x4E86;SpringBoot&#x6846;&#x67B6;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;SpringBoot&#x6846;&#x67B6;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x901F;&#x5EA6;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x5F97;&#x5230;&#x4E86;&#x8D28;&#x7684;&#x63D0;&#x5347;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x4E8E;&#x9879;&#x76EE;&#x7684;&#x7EF4;&#x62A4;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x4E5F;&#x4F1A;&#x66F4;&#x52A0;&#x7684;&#x8F7B;&#x677E;&#x3002;&#x53EF;&#x89C1;&#xFF0C;SpringBoot&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x5E26;&#x6765;&#x4E86;&#x5DE8;&#x5927;&#x4FBF;&#x6377;&#x3002;&#x800C;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x57FA;&#x4E8E;SpringBoot&#xFF0C;&#x7EE7;&#x7EED;&#x6DF1;&#x5165;&#x5230;&#x4F01;&#x4E1A;&#x5B9E;&#x9645;&#x573A;&#x666F;&#xFF0C;&#x63A2;&#x8BA8;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x4E0B;&#x7684;SpringCloud&#x3002;&#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x6211;&#x4EEC;&#x4F1A;&#x66F4;&#x52A0;&#x6CE8;&#x91CD;&#x4E8E;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x4E0A;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x5F31;&#x5316;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x65B9;&#x9762;&#x7684;&#x7814;&#x7A76;&#x3002;</p><h2 id="&#x4F20;&#x7EDF;&#x9879;&#x76EE;&#x8F6C;&#x578B;"><a name="&#x4F20;&#x7EDF;&#x9879;&#x76EE;&#x8F6C;&#x578B;" class="plugin-anchor" href="#&#x4F20;&#x7EDF;&#x9879;&#x76EE;&#x8F6C;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F20;&#x7EDF;&#x9879;&#x76EE;&#x8F6C;&#x578B;</h2><p>&#x8981;&#x8BF4;&#x8FD1;&#x51E0;&#x5E74;&#x6700;&#x706B;&#x70ED;&#x7684;&#x8BDD;&#x9898;&#xFF0C;&#x90A3;&#x8FD8;&#x5F97;&#x662F;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x4EC0;&#x4E48;&#x662F;&#x5FAE;&#x670D;&#x52A1;&#x5462;&#xFF1F;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x4ECE;&#x6280;&#x672F;&#x7684;&#x6F14;&#x53D8;&#x5F00;&#x59CB;&#x770B;&#x8D77;&#xFF0C;&#x5728;&#x6211;&#x4EEC;&#x5B66;&#x4E60;JavaWeb&#x4E4B;&#x540E;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x7F51;&#x7AD9;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x4E3A;Servlet+JSP&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x6211;&#x4EEC;&#x5728;&#x5B66;&#x4E60;&#x4E86;SSM&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x5DF2;&#x7ECF;&#x8FDC;&#x8FDC;&#x843D;&#x540E;&#x4E86;&#xFF0C;&#x7B2C;&#x4E00;&#xFF0C;&#x4E00;&#x4E2A;&#x516C;&#x53F8;&#x4E0D;&#x53EF;&#x80FD;&#x53BB;&#x62DB;&#x90A3;&#x4E48;&#x591A;&#x540C;&#x65F6;&#x4F1A;&#x524D;&#x7AEF;+&#x540E;&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF0C;&#x5C31;&#x7B97;&#x62DB;&#x5230;&#xFF0C;&#x4E5F;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x80FD;&#x4FDD;&#x8BC1;&#x4E24;&#x4E2A;&#x65B9;&#x9762;&#x90FD;&#x6BD4;&#x8F83;&#x64C5;&#x957F;&#xFF0C;&#x76F8;&#x6BD4;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x5F00;&#x5B66;&#x4E60;&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF0C;&#x663E;&#x7136;&#x540E;&#x8005;&#x7684;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x66F4;&#x4F4E;&#xFF0C;&#x4E13;&#x6CE8;&#x5EA6;&#x66F4;&#x9AD8;&#x3002;&#x56E0;&#x6B64;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x6210;&#x4E3A;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x8D8B;&#x52BF;&#x3002;&#x901A;&#x8FC7;&#x4F7F;&#x7528;SpringBoot&#xFF0C;&#x6211;&#x4EEC;&#x51E0;&#x4E4E;&#x53EF;&#x4EE5;&#x5F88;&#x5FEB;&#x901F;&#x5730;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x5355;&#x4F53;&#x5E94;&#x7528;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x6211;&#x4EEC;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x5C31;&#x5F00;&#x59CB;&#x8FD0;&#x884C;&#x4E86;&#xFF0C;&#x5404;&#x9879;&#x529F;&#x80FD;&#x878D;&#x4E8E;&#x4E00;&#x4F53;&#xFF0C;&#x5F00;&#x53D1;&#x8D77;&#x6765;&#x4E5F;&#x66F4;&#x52A0;&#x8F7B;&#x677E;&#x3002;</p><p>&#x4F46;&#x662F;&#x968F;&#x7740;&#x6211;&#x4EEC;&#x9879;&#x76EE;&#x7684;&#x4E0D;&#x65AD;&#x6269;&#x5927;&#xFF0C;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x4F3C;&#x4E4E;&#x663E;&#x5F97;&#x6709;&#x70B9;&#x4E4F;&#x529B;&#x4E86;&#x3002;</p><p>&#x968F;&#x7740;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x529F;&#x80FD;&#x4E0D;&#x65AD;&#x5730;&#x52A0;&#x5165;&#x5230;&#x4E00;&#x4E2A;SpringBoot&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x968F;&#x7740;&#x63A5;&#x53E3;&#x4E0D;&#x65AD;&#x589E;&#x52A0;&#xFF0C;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5C31;&#x8981;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x5185;&#x54CD;&#x5E94;&#x66F4;&#x591A;&#x7C7B;&#x578B;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x663E;&#x7136;&#xFF0C;&#x8FD9;&#x79CD;&#x6269;&#x5C55;&#x65B9;&#x5F0F;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x65E0;&#x9650;&#x4F7F;&#x7528;&#x4E0B;&#x53BB;&#x7684;&#xFF0C;&#x603B;&#x6709;&#x4E00;&#x5929;&#xFF0C;&#x8FD9;&#x4E2A;SpringBoot&#x9879;&#x76EE;&#x4F1A;&#x5E9E;&#x5927;&#x5230;&#x8FD0;&#x884C;&#x7F13;&#x6162;&#x3002;&#x5E76;&#x4E14;&#x6240;&#x6709;&#x7684;&#x529F;&#x80FD;&#x5982;&#x679C;&#x90FD;&#x96C6;&#x6210;&#x5728;&#x5355;&#x7AEF;&#x4E0A;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x5168;&#x90E8;&#x6C47;&#x96C6;&#x5230;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x5BF9;&#x6B64;&#x670D;&#x52A1;&#x5668;&#x9020;&#x6210;&#x5DE8;&#x5927;&#x538B;&#x529B;&#x3002;</p><p>&#x53EF;&#x4EE5;&#x8BD5;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7684;&#x7535;&#x8111;&#x5DF2;&#x7ECF;&#x5347;&#x7EA7;&#x5230;i9-12900K&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x5728;&#x8FD0;&#x884C;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#x7F13;&#x6162;&#xFF0C;&#x65E0;&#x6CD5;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x54CD;&#x5E94;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x5DF2;&#x7ECF;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x5347;&#x7EA7;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x7684;&#x4E86;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/1.jpg" alt="image-20220320174622739"></p><p>&#x4F20;&#x7EDF;&#x5355;&#x4F53;&#x67B6;&#x6784;&#x5E94;&#x7528;&#x968F;&#x7740;&#x9879;&#x76EE;&#x89C4;&#x6A21;&#x7684;&#x6269;&#x5927;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x4F1A;&#x66B4;&#x9732;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x65E0;&#x6CD5;&#x627F;&#x53D7;&#x5E9E;&#x5927;&#x7684;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x90E8;&#x7F72;&#xFF0C;&#x5E76;&#x4E14;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x7684;&#x7EF4;&#x62A4;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x56F0;&#x96BE;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5BFB;&#x627E;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x5F00;&#x53D1;&#x67B6;&#x6784;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x4E86;&#x3002;</p><blockquote><p>In short, the microservice architectural style is an approach to developing a single application as a suite of small services, each running in its own process and communicating with lightweight mechanisms, often an HTTP resource API. These services are built around business capabilities and independently deployable by fully automated deployment machinery. There is a bare minimum of centralized management of these services, which may be written in different programming languages and use different data storage technologies.</p></blockquote><p>Martin Fowler&#x5728;2014&#x5E74;&#x63D0;&#x51FA;&#x4E86;&#x201C;&#x5FAE;&#x670D;&#x52A1;&#x201D;&#x67B6;&#x6784;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5168;&#x65B0;&#x7684;&#x67B6;&#x6784;&#x98CE;&#x683C;&#x3002;</p><ul><li>&#x5FAE;&#x670D;&#x52A1;&#x628A;&#x4E00;&#x4E2A;&#x5E9E;&#x5927;&#x7684;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x62C6;&#x5206;&#x4E3A;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;&#x5C0F;&#x578B;&#x670D;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x539F;&#x6765;&#x7684;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x6709;&#x767B;&#x5F55;&#x3001;&#x6CE8;&#x518C;&#x3001;&#x6DFB;&#x52A0;&#x3001;&#x5220;&#x9664;&#x3001;&#x641C;&#x7D22;&#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x5355;&#x72EC;&#x505A;&#x6210;&#x4E00;&#x4E2A;&#x4E2A;&#x5C0F;&#x578B;&#x7684;SpringBoot&#x9879;&#x76EE;&#xFF0C;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x3002;</li><li>&#x6BCF;&#x4E2A;&#x5C0F;&#x578B;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x90E8;&#x7F72;&#x548C;&#x5347;&#x7EA7;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x7B97;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5D29;&#x6E83;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x53EA;&#x4F1A;&#x5F71;&#x54CD;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x8FD0;&#x884C;&#x3002;</li><li>&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;HTTP&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x4E0D;&#x518D;&#x662F;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x5185;&#x90E8;&#x4EA4;&#x4E92;&#x4E86;&#xFF0C;&#x867D;&#x7136;&#x8FD9;&#x6837;&#x4F1A;&#x663E;&#x5F97;&#x66F4;&#x9EBB;&#x70E6;&#xFF0C;&#x4F46;&#x662F;&#x5E26;&#x6765;&#x7684;&#x597D;&#x5904;&#x4E5F;&#x662F;&#x5F88;&#x76F4;&#x63A5;&#x7684;&#xFF0C;&#x751A;&#x81F3;&#x80FD;&#x7A81;&#x7834;&#x8BED;&#x8A00;&#x9650;&#x5236;&#xFF0C;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x8FDB;&#x884C;&#x5FAE;&#x670D;&#x52A1;&#x5F00;&#x53D1;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4F7F;&#x7528;HTTP&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x5373;&#x53EF;&#x3002;</li><li>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x8D2D;&#x4E70;&#x591A;&#x53F0;&#x4E3B;&#x673A;&#x6765;&#x5206;&#x522B;&#x90E8;&#x7F72;&#x8FD9;&#x4E9B;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5355;&#x673A;&#x7684;&#x538B;&#x529B;&#x5C31;&#x88AB;&#x5206;&#x6563;&#x5230;&#x591A;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x4E0D;&#x4E00;&#x5B9A;&#x9700;&#x8981;&#x592A;&#x9AD8;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x8282;&#x7701;&#x5927;&#x91CF;&#x7684;&#x6210;&#x672C;&#xFF0C;&#x540C;&#x65F6;&#x5B89;&#x5168;&#x6027;&#x4E5F;&#x5F97;&#x5230;&#x5F88;&#x5927;&#x7684;&#x4FDD;&#x8BC1;&#x3002;</li><li>&#x751A;&#x81F3;&#x540C;&#x4E00;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#xFF0C;&#x8FD9;&#x6837;&#x5F53;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x5728;&#x8FD0;&#x884C;&#x540C;&#x6837;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x4E00;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;</li></ul><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/2.jpg" alt="image-20220322090754438"></p><p>&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#xFF0C;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#x80AF;&#x5B9A;&#x662F;&#x6BD4;&#x8FD9;&#x4E2A;&#x590D;&#x6742;&#x5F97;&#x591A;&#x7684;&#x3002;</p><p>&#x53EF;&#x89C1;&#xFF0C;&#x91C7;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#xFF0C;&#x66F4;&#x52A0;&#x80FD;&#x591F;&#x5E94;&#x5BF9;&#x5F53;&#x4ECA;&#x65F6;&#x4EE3;&#x4E0B;&#x7684;&#x79CD;&#x79CD;&#x8003;&#x9A8C;&#xFF0C;&#x4F20;&#x7EDF;&#x9879;&#x76EE;&#x7684;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x5347;&#x7EA7;&#x3002;</p><h2 id="&#x8D70;&#x8FDB;springcloud"><a name="&#x8D70;&#x8FDB;springcloud" class="plugin-anchor" href="#&#x8D70;&#x8FDB;springcloud"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8D70;&#x8FDB;SpringCloud</h2><p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x4ECB;&#x7ECD;&#x4E86;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x90A3;&#x4E48;&#x540C;&#x6837;&#x7684;&#xFF0C;&#x8FD9;&#x4E9B;&#x4F18;&#x70B9;&#x7684;&#x80CC;&#x540E;&#x4E5F;&#x5B58;&#x5728;&#x7740;&#x8BF8;&#x591A;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p><ul><li>&#x8981;&#x5B9E;&#x73B0;&#x5FAE;&#x670D;&#x52A1;&#x5E76;&#x4E0D;&#x662F;&#x8BF4;&#x53EA;&#x9700;&#x8981;&#x7B80;&#x5355;&#x5730;&#x5C06;&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x62C6;&#x5206;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x8003;&#x8651;&#x5BF9;&#x5404;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3001;&#x76D1;&#x63A7;&#x7B49;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x624D;&#x80FD;&#x591F;&#x53CA;&#x65F6;&#x5730;&#x5BFB;&#x627E;&#x548C;&#x6392;&#x67E5;&#x95EE;&#x9898;&#x3002;&#x56E0;&#x6B64;&#x5FAE;&#x670D;&#x52A1;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x7684;&#x662F;&#x4E00;&#x6574;&#x5957;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5305;&#x62EC;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x548C;&#x53D1;&#x73B0;&#x3001;&#x5BB9;&#x707E;&#x5904;&#x7406;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x7B49;&#x3002;</li><li>&#x5B83;&#x4E0D;&#x50CF;&#x5355;&#x4F53;&#x67B6;&#x6784;&#x90A3;&#x79CD;&#x65B9;&#x4FBF;&#x7EF4;&#x62A4;&#xFF0C;&#x7531;&#x4E8E;&#x90E8;&#x7F72;&#x5728;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x5F97;&#x4E0D;&#x53BB;&#x4FDD;&#x8BC1;&#x5404;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x80FD;&#x591F;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#xFF0C;&#x5728;&#x7BA1;&#x7406;&#x96BE;&#x5EA6;&#x4E0A;&#x80AF;&#x5B9A;&#x662F;&#x9AD8;&#x4E8E;&#x4F20;&#x7EDF;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x7684;&#x3002;</li><li>&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x7684;&#x67D0;&#x4E9B;&#x529F;&#x80FD;&#x53EF;&#x80FD;&#x4F1A;&#x53D8;&#x5F97;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x6BD4;&#x5982;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x3002;</li></ul><p>&#x6240;&#x4EE5;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x5730;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;SpringCloud&#x6B63;&#x5F0F;&#x767B;&#x573A;&#x3002;</p><p>SpringCloud&#x662F;Spring&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x5957;&#x5206;&#x5E03;&#x5F0F;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x96C6;&#x5408;&#x4E86;&#x4E00;&#x4E9B;&#x5927;&#x578B;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#x7684;&#x5F00;&#x6E90;&#x4EA7;&#x54C1;&#xFF0C;&#x5305;&#x62EC;&#x8BF8;&#x591A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5171;&#x540C;&#x7EC4;&#x6210;SpringCloud&#x6846;&#x67B6;&#x3002;&#x5E76;&#x4E14;&#xFF0C;&#x5B83;&#x5229;&#x7528;Spring Boot&#x7684;&#x5F00;&#x53D1;&#x4FBF;&#x5229;&#x6027;&#x5DE7;&#x5999;&#x5730;&#x7B80;&#x5316;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x5982;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x6CE8;&#x518C;&#x3001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x3001;&#x6D88;&#x606F;&#x603B;&#x7EBF;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x7194;&#x65AD;&#x673A;&#x5236;&#x3001;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x7B49;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x7528;Spring Boot&#x7684;&#x5F00;&#x53D1;&#x98CE;&#x683C;&#x505A;&#x5230;&#x4E00;&#x952E;&#x542F;&#x52A8;&#x548C;&#x90E8;&#x7F72;&#x3002;</p><p>&#x7531;&#x4E8E;&#x4E2D;&#x5C0F;&#x578B;&#x516C;&#x53F8;&#x6CA1;&#x6709;&#x72EC;&#x7ACB;&#x5F00;&#x53D1;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x4F7F;&#x7528;SpringCloud&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x80FD;&#x591F;&#x4EE5;&#x6700;&#x4F4E;&#x7684;&#x6210;&#x672C;&#x5E94;&#x5BF9;&#x5F53;&#x524D;&#x65F6;&#x4EE3;&#x7684;&#x4E1A;&#x52A1;&#x53D1;&#x5C55;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/3.jpg" alt="image-20220322102706256"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;SpringCloud&#x6574;&#x4F53;&#x67B6;&#x6784;&#x7684;&#x4EAE;&#x70B9;&#x662F;&#x975E;&#x5E38;&#x660E;&#x663E;&#x7684;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#x4E0B;&#x7684;&#x5404;&#x4E2A;&#x573A;&#x666F;&#xFF0C;&#x90FD;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x7EC4;&#x4EF6;&#x6765;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#x57FA;&#x4E8E;Netflix&#xFF08;&#x5948;&#x98DE;&#xFF09;&#x7684;&#x5F00;&#x6E90;&#x5206;&#x5E03;&#x5F0F;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x63D0;&#x4F9B;&#x7684;&#x7EC4;&#x4EF6;&#xFF1A;</p><ul><li>Eureka - &#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x6CBB;&#x7406;&#xFF08;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;&#xFF0C;&#x5305;&#x62EC;&#x4ED6;&#x4EEC;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3001;&#x4FE1;&#x606F;&#x7B49;&#x3002;</li><li>Ribbon - &#x4E3A;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#x63D0;&#x4F9B;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#xFF08;&#x73B0;&#x5728;&#x88AB;SpringCloudLoadBalancer&#x53D6;&#x4EE3;&#xFF09;</li><li>Hystrix - &#x65AD;&#x8DEF;&#x5668;&#xFF0C;&#x4FDD;&#x62A4;&#x7CFB;&#x7EDF;&#xFF0C;&#x63A7;&#x5236;&#x6545;&#x969C;&#x8303;&#x56F4;&#x3002;&#x6682;&#x65F6;&#x53EF;&#x4EE5;&#x8DDF;&#x5BB6;&#x91CC;&#x7535;&#x95F8;&#x7684;&#x4FDD;&#x9669;&#x4E1D;&#x7C7B;&#x6BD4;&#xFF0C;&#x5F53;&#x89E6;&#x7535;&#x5371;&#x9669;&#x53D1;&#x751F;&#x65F6;&#x80FD;&#x591F;&#x9632;&#x6B62;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x53D1;&#x5C55;&#x3002;</li><li>Zuul - api&#x7F51;&#x5173;&#xFF0C;&#x8DEF;&#x7531;&#xFF0C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B49;&#x591A;&#x79CD;&#x4F5C;&#x7528;&#xFF0C;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x7684;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x53EF;&#x80FD;&#x6709;&#x5F88;&#x591A;&#x4E2A;&#x8BBE;&#x5907;&#x90FD;&#x8FDE;&#x63A5;&#x4E86;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x5305;&#x8981;&#x8F6C;&#x53D1;&#x7ED9;&#x8C01;&#x5219;&#x662F;&#x7531;&#x8DEF;&#x7531;&#x5668;&#x5728;&#x8FDB;&#x884C;&#xFF08;&#x5DF2;&#x7ECF;&#x88AB;SpringCloudGateway&#x53D6;&#x4EE3;&#xFF09;</li><li>Config - &#x914D;&#x7F6E;&#x7BA1;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;</li></ul><p>&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x4E86;&#x89E3;&#x5373;&#x53EF;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x73A9;&#x6CD5;&#x975E;&#x5E38;&#x591A;&#xFF0C;&#x6211;&#x4EEC;&#x540E;&#x9762;&#x7684;&#x5B66;&#x4E60;&#x4E2D;&#x5C06;&#x4F1A;&#x9010;&#x6B65;&#x8FDB;&#x884C;&#x63A2;&#x7D22;&#x3002;</p><p>&#x90A3;&#x4E48;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4ECE;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5F00;&#x59CB;&#x8BF4;&#x8D77;&#x3002;</p><hr><h2 id="eureka-&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;"><a name="eureka-&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;" class="plugin-anchor" href="#eureka-&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;"><i class="fa fa-link" aria-hidden="true"></i></a>Eureka &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;</h2><p>&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://docs.spring.io/spring-cloud-netflix/docs/current/reference/html/" target="_blank">https://docs.spring.io/spring-cloud-netflix/docs/current/reference/html/</a></p><p><strong>&#x5C0F;&#x8D34;&#x58EB;&#xFF1A;</strong>&#x5404;&#x4F4D;&#x5C0F;&#x4F19;&#x4F34;&#x5728;&#x5B66;&#x4E60;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x89C9;&#x5F97;&#x6709;&#x4EC0;&#x4E48;&#x7591;&#x60D1;&#x7684;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x67E5;&#x9605;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x6280;&#x672F;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x8D34;&#x4E0A;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x65B9;&#x4FBF;&#x5404;&#x4F4D;&#x8FDB;&#x884C;&#x67E5;&#x9605;&#xFF0C;&#x540C;&#x65F6;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x8BFE;&#x7A0B;&#x4E2D;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x4F1A;&#x5B8C;&#x5B8C;&#x6574;&#x6574;&#x5730;&#x8BB2;&#x5B8C;&#x6574;&#x4E2A;&#x6846;&#x67B6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6709;&#x5173;&#x8BE6;&#x7EC6;&#x7684;&#x529F;&#x80FD;&#x548C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x6587;&#x6863;&#x4E2D;&#x4E5F;&#x662F;&#x5199;&#x7684;&#x975E;&#x5E38;&#x6E05;&#x695A;&#x7684;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x6DF1;&#x5165;&#x5B66;&#x4E60;&#x54E6;&#x3002;</p><h3 id="&#x5FAE;&#x670D;&#x52A1;&#x9879;&#x76EE;&#x7ED3;&#x6784;"><a name="&#x5FAE;&#x670D;&#x52A1;&#x9879;&#x76EE;&#x7ED3;&#x6784;" class="plugin-anchor" href="#&#x5FAE;&#x670D;&#x52A1;&#x9879;&#x76EE;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5FAE;&#x670D;&#x52A1;&#x9879;&#x76EE;&#x7ED3;&#x6784;</h3><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x91CD;&#x65B0;&#x8BBE;&#x8BA1;&#x4E00;&#x4E0B;&#x4E4B;&#x524D;&#x7684;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x9879;&#x76EE;&#xFF0C;&#x5C06;&#x539F;&#x6709;&#x7684;&#x5927;&#x578B;&#xFF08;&#x4E5F;&#x8BB8; &#x9879;&#x76EE;&#x8FDB;&#x884C;&#x62C6;&#x5206;&#xFF0C;&#x6CE8;&#x610F;&#x9879;&#x76EE;&#x62C6;&#x5206;&#x4E00;&#x5B9A;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x4FDD;&#x8BC1;&#x5355;&#x4E00;&#x804C;&#x8D23;&#xFF0C;&#x76F8;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x4E0D;&#x8981;&#x5728;&#x591A;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x91CD;&#x590D;&#x51FA;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x9700;&#x8981;&#x501F;&#x52A9;&#x5176;&#x4ED6;&#x4E1A;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#xFF08;&#x4E4B;&#x540E;&#x4F1A;&#x4ECB;&#x7ECD;&#xFF09;&#xFF1A;</p><ul><li>&#x767B;&#x5F55;&#x9A8C;&#x8BC1;&#x670D;&#x52A1;&#xFF1A;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x3001;&#x767B;&#x5F55;&#x3001;&#x5BC6;&#x7801;&#x91CD;&#x7F6E;&#x7B49;&#xFF0C;&#x53CD;&#x6B63;&#x5C31;&#x662F;&#x4E00;&#x5207;&#x4E0E;&#x8D26;&#x6237;&#x76F8;&#x5173;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5305;&#x62EC;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x83B7;&#x53D6;&#x7B49;&#x3002;</li><li>&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#xFF1A;&#x7528;&#x4E8E;&#x8FDB;&#x884C;&#x56FE;&#x4E66;&#x6DFB;&#x52A0;&#x3001;&#x5220;&#x9664;&#x3001;&#x66F4;&#x65B0;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x76F8;&#x5173;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5305;&#x62EC;&#x56FE;&#x4E66;&#x7684;&#x5B58;&#x50A8;&#x7B49;&#x548C;&#x4FE1;&#x606F;&#x83B7;&#x53D6;&#x3002;</li><li>&#x56FE;&#x4E66;&#x501F;&#x9605;&#x670D;&#x52A1;&#xFF1A;&#x4EA4;&#x4E92;&#x6027;&#x6BD4;&#x8F83;&#x5F3A;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x548C;&#x767B;&#x9646;&#x9A8C;&#x8BC1;&#x670D;&#x52A1;&#x548C;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x3002;</li></ul><p>&#x90A3;&#x4E48;&#x65E2;&#x7136;&#x8981;&#x5C06;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x62C6;&#x5206;&#x4E3A;&#x591A;&#x4E2A;&#x5C0F;&#x578B;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8BBE;&#x8BA1;&#x4E00;&#x4E0B;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C31;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#x7531;&#x7236;&#x9879;&#x76EE;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#x4F9D;&#x8D56;&#xFF0C;&#x5C31;&#x65E0;&#x9700;&#x6BCF;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#x90FD;&#x53BB;&#x5355;&#x72EC;&#x7BA1;&#x7406;&#x4F9D;&#x8D56;&#x4E86;&#xFF0C;&#x4E5F;&#x66F4;&#x65B9;&#x4FBF;&#x4E00;&#x70B9;&#x3002;</p><p>&#x6211;&#x4EEC;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;SpringBoot&#x9879;&#x76EE;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/4.jpg" alt="image-20220323105531867"></p><p>&#x7136;&#x540E;&#x4E0D;&#x9700;&#x8981;&#x52FE;&#x9009;&#x4EFB;&#x4F55;&#x4F9D;&#x8D56;&#xFF0C;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x5373;&#x53EF;&#xFF0C;&#x9879;&#x76EE;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#x5E76;&#x521D;&#x59CB;&#x5316;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5220;&#x9664;&#x7236;&#x5DE5;&#x7A0B;&#x7684;&#x65E0;&#x7528;&#x6587;&#x4EF6;&#xFF0C;&#x53EA;&#x4FDD;&#x7559;&#x5FC5;&#x8981;&#x6587;&#x4EF6;&#xFF0C;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/5.jpg" alt="image-20220323105859454"></p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6211;&#x4EEC;&#x5212;&#x5206;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x8FDB;&#x884C;&#x5B50;&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x4E86;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Maven&#x9879;&#x76EE;&#xFF0C;&#x6CE8;&#x610F;&#x7236;&#x9879;&#x76EE;&#x8981;&#x6307;&#x5B9A;&#x4E3A;&#x6211;&#x4EEC;&#x4E00;&#x5F00;&#x59CB;&#x521B;&#x5EFA;&#x7684;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x5B50;&#x9879;&#x76EE;&#x547D;&#x540D;&#x968F;&#x610F;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/6.jpg" alt="image-20220323110133466"></p><p>&#x5B50;&#x9879;&#x76EE;&#x521B;&#x5EFA;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5728;&#x5B50;&#x9879;&#x76EE;&#x4E2D;&#x521B;&#x5EFA;SpringBoot&#x7684;&#x542F;&#x52A8;&#x4E3B;&#x7C7B;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/7.jpg" alt="image-20220323110756722"></p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x8FD0;&#x884C;&#xFF0C;&#x5373;&#x53EF;&#x542F;&#x52A8;&#x5B50;&#x9879;&#x76EE;&#x4E86;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#x5C31;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;SpringBoot web&#x9879;&#x76EE;&#xFF0C;&#x6CE8;&#x610F;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#x6700;&#x4E0B;&#x65B9;&#x6709;&#x5F39;&#x7A97;&#xFF0C;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&quot;&#x4F7F;&#x7528; &#x670D;&#x52A1;&quot;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x6574;&#x4E2A;&#x5927;&#x9879;&#x76EE;&#x4E2D;&#x6709;&#x54EA;&#x4E9B;&#x5FAE;&#x670D;&#x52A1;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/8.jpg" alt="image-20220323110917997"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/9.jpg" alt="image-20220323111056940"></p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x4EE5;&#x540C;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x521B;&#x5EFA;&#x5176;&#x4ED6;&#x7684;&#x5B50;&#x9879;&#x76EE;&#xFF0C;&#x6CE8;&#x610F;&#x6211;&#x4EEC;&#x6700;&#x597D;&#x5C06;&#x5176;&#x4ED6;&#x5B50;&#x9879;&#x76EE;&#x7684;&#x7AEF;&#x53E3;&#x8BBE;&#x7F6E;&#x5F97;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x7136;&#x4F1A;&#x5BFC;&#x81F4;&#x7AEF;&#x53E3;&#x5360;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x4E3A;&#x5B83;&#x4EEC;&#x521B;&#x5EFA;<code>application.yml</code>&#x6587;&#x4EF6;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/10.jpg" alt="image-20220323111733605"></p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x5C1D;&#x8BD5;&#x542F;&#x52A8;&#x4E00;&#x4E0B;&#x8FD9;&#x4E09;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x542F;&#x52A8;&#x7684;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/11.jpg" alt="image-20220323111849846"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x8FD0;&#x884C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7AEF;&#x53E3;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x65B9;&#x4FBF;&#x4E0D;&#x540C;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#x7F16;&#x5199;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x4E86;&#xFF0C;&#x63D0;&#x4EA4;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x65F6;&#x7684;&#x51B2;&#x7A81;&#x7387;&#x4E5F;&#x4F1A;&#x964D;&#x4F4E;&#x3002;</p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x91CC;&#x8FD8;&#x662F;&#x8001;&#x6837;&#x5B50;&#xFF0C;&#x521B;&#x5EFA;&#x4E09;&#x4E2A;&#x8868;&#x5373;&#x53EF;&#xFF0C;&#x5F53;&#x7136;&#x5B9E;&#x9645;&#x4E0A;&#x6BCF;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x5355;&#x72EC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6309;&#x7167;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x670D;&#x52A1;&#x53EA;&#x4F1A;&#x64CD;&#x4F5C;&#x81EA;&#x5DF1;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#xFF0C;&#x8FD9;&#x91CC;UP&#x4E3B;&#x6BD4;&#x8F83;&#x7A77;&#xFF0C;&#x5C31;&#x53EA;&#x7528;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x6F14;&#x793A;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/12.jpg" alt="image-20220323112340995"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/13.jpg" alt="image-20220323112616538"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/14.jpg" alt="image-20220323112842758"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/15.jpg" alt="image-20220323112750936"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/16.jpg" alt="image-20220323112825430"></p><p>&#x521B;&#x5EFA;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF0C;&#x4E00;&#x5171;&#x4E09;&#x5F20;&#x8868;&#xFF0C;&#x5404;&#x4F4D;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x5230;&#x91CC;&#x9762;&#xFF0C;&#x8FD9;&#x5C31;&#x4E0D;&#x8D34;&#x51FA;&#x6765;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/17.jpg" alt="image-20220323112922396"></p><p>&#x5982;&#x679C;&#x5404;&#x4F4D;&#x5ACC;&#x9EBB;&#x70E6;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;<code>.sql</code>&#x6587;&#x4EF6;&#x81EA;&#x884C;&#x5BFC;&#x5165;&#x3002;</p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x7A0D;&#x5FAE;&#x5199;&#x4E00;&#x70B9;&#x4E1A;&#x52A1;&#xFF0C;&#x6BD4;&#x5982;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x4E1A;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x628A;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x4F9D;&#x8D56;&#x8FDB;&#x884C;&#x5BFC;&#x5165;&#xFF0C;&#x8FD9;&#x91CC;&#x4F9D;&#x7136;&#x4F7F;&#x7528;Mybatis&#x6846;&#x67B6;&#xFF0C;&#x9996;&#x5148;&#x5728;&#x7236;&#x9879;&#x76EE;&#x4E2D;&#x6DFB;&#x52A0;MySQL&#x9A71;&#x52A8;&#x548C;Lombok&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x7531;&#x4E8E;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5B50;&#x9879;&#x76EE;&#x90FD;&#x9700;&#x8981;&#x7528;&#x5230;Mybatis&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x7236;&#x9879;&#x76EE;&#x4E2D;&#x53EA;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x7BA1;&#x7406;&#x5373;&#x53EF;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x7528;&#x6237;&#x670D;&#x52A1;&#x5B50;&#x9879;&#x76EE;&#x4E2D;&#x6DFB;&#x52A0;&#x6B64;&#x4F9D;&#x8D56;&#x4E86;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x63A5;&#x7740;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x6E90;&#x4FE1;&#x606F;&#xFF08;UP&#x7528;&#x5230;&#x662F;&#x963F;&#x91CC;&#x4E91;&#x7684;MySQL&#x4E91;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5404;&#x4F4D;&#x6CE8;&#x610F;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#x5730;&#x5740;&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//cloudstudy.mysql.cn<span class="token punctuation">-</span>chengdu.rds.aliyuncs.com<span class="token punctuation">:</span>3306/cloudstudy
    <span class="token key atrule">username</span><span class="token punctuation">:</span> test
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x5199;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x76F8;&#x5173;&#x7684;&#x4E1A;&#x52A1;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> uid<span class="token punctuation">;</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token class-name">String</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from DB_USER where uid = #{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">UserMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">UserService</span> service<span class="token punctuation">;</span>

    <span class="token comment">//&#x8FD9;&#x91CC;&#x4EE5;RESTFul&#x98CE;&#x683C;&#x4E3A;&#x4F8B;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8BBF;&#x95EE;&#x5373;&#x53EF;&#x62FF;&#x5230;&#x6570;&#x636E;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/18.jpg" alt="image-20220323133820304"></p><p>&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x4E00;&#x4E0B;&#x56FE;&#x4E66;&#x67E5;&#x8BE2;&#x4E1A;&#x52A1;&#xFF0C;&#x6CE8;&#x610F;&#x73B0;&#x5728;&#x662F;&#x5728;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x7F16;&#x5199;&#xFF08;&#x522B;&#x5FD8;&#x4E86;&#x5BFC;&#x5165;Mybatis&#x4F9D;&#x8D56;&#x4EE5;&#x53CA;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> bid<span class="token punctuation">;</span>
    <span class="token class-name">String</span> title<span class="token punctuation">;</span>
    <span class="token class-name">String</span> desc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookMapper</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from DB_BOOK where bid = #{bid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token keyword">int</span> bid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>
    <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token keyword">int</span> bid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BookMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token keyword">int</span> bid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>bid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BookService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/book/{bid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Book</span> <span class="token function">findBookById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;bid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> bid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>bid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x540C;&#x6837;&#x8FDB;&#x884C;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/19.jpg" alt="image-20220323134742618"></p><p>&#x8FD9;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x9879;&#x76EE;&#x7684;&#x5C31;&#x62C6;&#x5206;&#x6210;&#x4E86;&#x591A;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x4E0D;&#x540C;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x662F;&#x72EC;&#x7ACB;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x548C;&#x90E8;&#x7F72;&#x7684;&#x3002;</p><h3 id="&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;"><a name="&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;" class="plugin-anchor" href="#&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;</h3><p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x4E86;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x548C;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6765;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x501F;&#x9605;&#x670D;&#x52A1;&#x3002;</p><p>&#x501F;&#x9605;&#x670D;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x5173;&#x8054;&#x6027;&#x6BD4;&#x8F83;&#x5F3A;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x4E0D;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x501F;&#x9605;&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x53EF;&#x80FD;&#x8FD8;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x501F;&#x9605;&#x4FE1;&#x606F;&#x4E0B;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x5177;&#x4F53;&#x90A3;&#x4E2A;&#x7528;&#x6237;&#x501F;&#x9605;&#x4E86;&#x54EA;&#x672C;&#x4E66;&#xFF0C;&#x5E76;&#x4E14;&#x7528;&#x6237;&#x548C;&#x4E66;&#x7C4D;&#x7684;&#x8BE6;&#x60C5;&#x4E5F;&#x9700;&#x8981;&#x540C;&#x65F6;&#x51FA;&#x73B0;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x53BB;&#x8BBF;&#x95EE;&#x9664;&#x4E86;&#x501F;&#x9605;&#x8868;&#x4EE5;&#x5916;&#x7684;&#x7528;&#x6237;&#x8868;&#x548C;&#x56FE;&#x4E66;&#x8868;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/20.jpg" alt="image-20220323140053749"></p><p>&#x4F46;&#x662F;&#x8FD9;&#x663E;&#x7136;&#x662F;&#x8FDD;&#x53CD;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x6240;&#x8BF4;&#x7684;&#x5355;&#x4E00;&#x804C;&#x8D23;&#x7684;&#xFF0C;&#x76F8;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x529F;&#x80FD;&#x4E0D;&#x5E94;&#x8BE5;&#x91CD;&#x590D;&#x51FA;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x7531;&#x9700;&#x8981;&#x5728;&#x6B64;&#x670D;&#x52A1;&#x4E2D;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x548C;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#xFF0C;&#x90A3;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA9;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x53BB;&#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x6765;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/21.jpg" alt="image-20220323140322502"></p><p>&#x8FD9;&#x6837;&#xFF0C;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x548C;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x76F8;&#x5BF9;&#x4E8E;&#x501F;&#x9605;&#x8BB0;&#x5F55;&#xFF0C;&#x5C31;&#x5F62;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x524D;&#x8005;&#x662F;&#x751F;&#x4EA7;&#x8005;&#xFF0C;&#x540E;&#x8005;&#x4FBF;&#x662F;&#x6D88;&#x8D39;&#x8005;&#x3002;</p><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5148;&#x5C06;&#x501F;&#x9605;&#x5173;&#x8054;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x5B8C;&#x5584;&#x4E86;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Borrow</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">int</span> uid<span class="token punctuation">;</span>
    <span class="token keyword">int</span> bid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BorrowMapper</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from DB_BORROW where uid = #{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> <span class="token function">getBorrowsByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from DB_BORROW where bid = #{bid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> <span class="token function">getBorrowsByBid</span><span class="token punctuation">(</span><span class="token keyword">int</span> bid<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from DB_BORROW where bid = #{bid} and uid = #{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Borrow</span> <span class="token function">getBorrow</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">,</span> <span class="token keyword">int</span> bid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x73B0;&#x5728;&#x6709;&#x4E00;&#x4E2A;&#x9700;&#x6C42;&#xFF0C;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x7684;&#x501F;&#x9605;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x5177;&#x4F53;&#x501F;&#x4E86;&#x90A3;&#x4E9B;&#x4E66;&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x6B64;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x548C;&#x6240;&#x6709;&#x5DF2;&#x501F;&#x9605;&#x7684;&#x4E66;&#x7C4D;&#x4FE1;&#x606F;&#x4E00;&#x8D77;&#x8FD4;&#x56DE;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x8BBE;&#x8BA1;&#x4E00;&#x4E0B;&#x8FD4;&#x56DE;&#x5B9E;&#x4F53;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserBorrowDetail</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user<span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x4F46;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;User&#x548C;Book&#x5B9E;&#x4F53;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5728;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x5E76;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x8FD9;&#x4E9B;&#x5B9E;&#x4F53;&#x7C7B;&#xFF0C;&#x90A3;&#x4E48;&#x600E;&#x4E48;&#x89E3;&#x51B3;&#x5462;&#xFF1F;</p><p>&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x670D;&#x52A1;&#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x5355;&#x72EC;&#x653E;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x8FD9;&#x4E9B;&#x9879;&#x76EE;&#x5F15;&#x7528;&#x96C6;&#x4E2D;&#x5B58;&#x653E;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x90A3;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x4FE1;&#x606F;&#x90FD;&#x53EF;&#x4EE5;&#x5171;&#x7528;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/22.jpg" alt="image-20220323141919836"></p><p>&#x7136;&#x540E;&#x53EA;&#x9700;&#x8981;&#x5728;&#x5BF9;&#x5E94;&#x7684;&#x7C7B;&#x4E2D;&#x5F15;&#x7528;&#x6B64;&#x9879;&#x76EE;&#x4F5C;&#x4E3A;&#x4F9D;&#x8D56;&#x5373;&#x53EF;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x4E4B;&#x540E;&#x65B0;&#x7684;&#x516C;&#x5171;&#x5B9E;&#x4F53;&#x7C7B;&#x90FD;&#x53EF;&#x4EE5;&#x5728;<code>commons</code>&#x9879;&#x76EE;&#x4E2D;&#x8FDB;&#x884C;&#x5B9A;&#x4E49;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x6765;&#x5B8C;&#x6210;&#x521A;&#x521A;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x5148;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BorrowService</span> <span class="token punctuation">{</span>

    <span class="token class-name">UserBorrowDetail</span> <span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BorrowService</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserBorrowDetail</span> <span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> borrow <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getBorrowsByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x62FF;&#x5230;&#x501F;&#x9605;&#x5173;&#x8054;&#x4FE1;&#x606F;&#x4E86;&#xFF0C;&#x600E;&#x4E48;&#x8C03;&#x7528;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#x5462;&#xFF1F;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x9700;&#x8981;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7528;&#x5230;<code>RestTemplate</code>&#x6765;&#x8FDB;&#x884C;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BorrowService</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserBorrowDetail</span> <span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> borrow <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getBorrowsByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//RestTemplate&#x652F;&#x6301;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;</span>
        <span class="token class-name">RestTemplate</span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//&#x8FD9;&#x91CC;&#x901A;&#x8FC7;&#x8C03;&#x7528;getForObject&#x6765;&#x8BF7;&#x6C42;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x5C01;&#x88C5;</span>
        <span class="token comment">//&#x83B7;&#x53D6;User&#x4FE1;&#x606F;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8082/user/&quot;</span><span class="token operator">+</span>uid<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//&#x83B7;&#x53D6;&#x6BCF;&#x4E00;&#x672C;&#x4E66;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList <span class="token operator">=</span> borrow
                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">-&gt;</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/book/&quot;</span><span class="token operator">+</span>b<span class="token punctuation">.</span><span class="token function">getBid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserBorrowDetail</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> bookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x518D;&#x6700;&#x540E;&#x5B8C;&#x5584;&#x4E00;&#x4E0B;Controller&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/borrow/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">UserBorrowDetail</span> <span class="token function">findUserBorrows</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x70B9;&#x501F;&#x9605;&#x4FE1;&#x606F;&#xFF0C;&#x6D4B;&#x8BD5;&#x770B;&#x770B;&#x80FD;&#x4E0D;&#x80FD;&#x6B63;&#x5E38;&#x83B7;&#x53D6;&#xFF08;&#x6CE8;&#x610F;&#x4E00;&#x5B9A;&#x8981;&#x4FDD;&#x8BC1;&#x4E09;&#x4E2A;&#x670D;&#x52A1;&#x90FD;&#x5904;&#x4E8E;&#x5F00;&#x542F;&#x72B6;&#x6001;&#xFF0C;&#x5426;&#x5219;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x4F1A;&#x5931;&#x8D25;&#xFF09;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/23.jpg" alt="image-20220323143753567"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7ED3;&#x679C;&#x6B63;&#x5E38;&#xFF0C;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x6210;&#x529F;&#x3002;</p><p>&#x8FD9;&#x6837;&#xFF0C;&#x4E00;&#x4E2A;&#x7B80;&#x6613;&#x7684;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x9879;&#x76EE;&#x5C31;&#x642D;&#x5EFA;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;<strong>&#x8FD9;&#x91CC;&#x8BB0;&#x5F97;&#x628A;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x538B;&#x7F29;&#x6253;&#x5305;&#x5907;&#x4EFD;&#x4E00;&#x4E0B;</strong>&#xFF0C;&#x4E0B;&#x4E00;&#x7AE0;&#x5B66;&#x4E60;SpringCloud Alibaba&#x4E5F;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</p><h3 id="&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;"><a name="&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;" class="plugin-anchor" href="#&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;</h3><p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x4E86;&#x5982;&#x4F55;&#x5BF9;&#x5355;&#x4F53;&#x5E94;&#x7528;&#x8FDB;&#x884C;&#x62C6;&#x5206;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x5B66;&#x4E60;&#x4E86;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;&#x867D;&#x7136;&#x670D;&#x52A1;&#x62C6;&#x5206;&#x5B8C;&#x6210;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x5408;&#x7406;&#x7684;&#x7BA1;&#x7406;&#x673A;&#x5236;&#xFF0C;&#x5982;&#x679C;&#x5355;&#x7EAF;&#x53EA;&#x662F;&#x8FD9;&#x6837;&#x7F16;&#x5199;&#xFF0C;&#x5728;&#x90E8;&#x7F72;&#x548C;&#x7EF4;&#x62A4;&#x8D77;&#x6765;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x5F88;&#x9EBB;&#x70E6;&#x7684;&#x3002;&#x53EF;&#x4EE5;&#x60F3;&#x8C61;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E00;&#x5929;&#x8FD9;&#x4E9B;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x7AEF;&#x53E3;&#x6216;&#x662F;&#x5730;&#x5740;&#x5927;&#x89C4;&#x6A21;&#x5730;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x5C06;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x8C03;&#x7528;&#x8DEF;&#x5F84;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x540C;&#x6B65;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x662F;&#x591A;&#x4E48;&#x53EF;&#x6015;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x524A;&#x5F31;&#x8FD9;&#x79CD;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x5F3A;&#x5173;&#x8054;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x8981;&#x501F;&#x52A9;&#x6211;&#x4EEC;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x4E3B;&#x89D2;&#x4E86;&#x3002;</p><p>Eureka&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x5E76;&#x53D1;&#x73B0;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x670D;&#x52A1;&#x7684;&#x72B6;&#x6001;&#x3001;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;&#xFF0C;&#x8FD9;&#x6837;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x7684;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5411;Eureka&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/24.jpg" alt="image-20220323145051821"></p><p>&#x50CF;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x5F3A;&#x5173;&#x8054;&#x6027;&#x5C31;&#x4F1A;&#x88AB;&#x8FDB;&#x4E00;&#x6B65;&#x524A;&#x5F31;&#x3002;</p><p>&#x90A3;&#x4E48;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x642D;&#x5EFA;&#x4E00;&#x4E2A;Eureka&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Maven&#x9879;&#x76EE;&#x5373;&#x53EF;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x7236;&#x5DE5;&#x7A0B;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E0B;SpringCloud&#x7684;&#x4F9D;&#x8D56;&#xFF0C;&#x8FD9;&#x91CC;&#x9009;&#x7528;<code>2021.0.1</code>&#x7248;&#x672C;&#xFF08;Spring Cloud &#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x547D;&#x540D;&#x65B9;&#x5F0F;&#x53D8;&#x66F4;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x662F; <strong><em>YEAR.x</em></strong> &#x8FD9;&#x79CD;&#x547D;&#x540D;&#x65B9;&#x5F0F;&#xFF0C;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x5728;&#x5B98;&#x7F51;&#x67E5;&#x770B;&#xFF1A;<a href="https://spring.io/projects/spring-cloud#learn&#xFF09;&#xFF1A;" target="_blank">https://spring.io/projects/spring-cloud#learn&#xFF09;&#xFF1A;</a></p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2021.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x4E3A;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x9879;&#x76EE;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x4E0B;&#x8F7D;&#x5185;&#x5BB9;&#x6709;&#x70B9;&#x591A;&#xFF0C;&#x9996;&#x6B21;&#x5BFC;&#x5165;&#x8BF7;&#x8010;&#x5FC3;&#x7B49;&#x5F85;&#x4E00;&#x4E0B;&#x3002;</p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x521B;&#x5EFA;&#x4E3B;&#x7C7B;&#xFF0C;&#x8FD8;&#x662F;&#x4E00;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@EnableEurekaServer</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaServerApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x522B;&#x7740;&#x6025;&#x542F;&#x52A8;&#xFF01;&#xFF01;&#xFF01;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
    <span class="token comment"># &#x5F00;&#x542F;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x5BA2;&#x6237;&#x7AEF;&#x8BBE;&#x7F6E;&#xFF08;&#x867D;&#x7136;&#x662F;&#x670D;&#x52A1;&#x7AEF;</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
      <span class="token comment"># &#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x662F;&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x7AEF;&#x89D2;&#x8272;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x6539;&#x4E3A;false&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true</span>
        <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
        <span class="token comment"># &#x6682;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x5C06;&#x81EA;&#x5DF1;&#x4E5F;&#x6CE8;&#x518C;&#x5230;Eureka</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># &#x5C06;eureka&#x670D;&#x52A1;&#x7AEF;&#x6307;&#x5411;&#x81EA;&#x5DF1;</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8888/eureka
</code></pre><p>&#x597D;&#x4E86;&#xFF0C;&#x73B0;&#x5728;&#x5DEE;&#x4E0D;&#x591A;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x542F;&#x52A8;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x5730;&#x5740;+&#x7AEF;&#x53E3;&#x5373;&#x53EF;&#x8BBF;&#x95EE;Eureka&#x7684;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/25.jpg" alt="image-20220323152537322"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x76EE;&#x524D;&#x8FD8;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5230;Eureka&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x6765;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x6211;&#x4EEC;&#x7684;&#x4E09;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x9996;&#x5148;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x5BFC;&#x5165;Eureka&#x4F9D;&#x8D56;&#xFF08;&#x6CE8;&#x610F;&#x522B;&#x5BFC;&#x9519;&#x4E86;&#xFF0C;&#x540D;&#x79F0;&#x91CC;&#x9762;&#x6709;&#x4E2A;starter&#x7684;&#x624D;&#x662F;&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x7136;&#x540E;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
      <span class="token comment"># &#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x9700;&#x8981;&#x6307;&#x5411;Eureka&#x670D;&#x52A1;&#x7AEF;&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x8FDB;&#x884C;&#x6CE8;&#x518C;</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8888/eureka
</code></pre><p>OK&#xFF0C;&#x65E0;&#x9700;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;&#xFF0C;&#x76F4;&#x63A5;&#x542F;&#x52A8;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x6253;&#x5F00;Eureka&#x7684;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x5F00;&#x542F;&#x7684;&#x670D;&#x52A1;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/26.jpg" alt="image-20220323154722373"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;<code>8082</code>&#x7AEF;&#x53E3;&#x4E0A;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x6CE8;&#x518C;&#x5230;Eureka&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x600E;&#x4E48;&#x4F1A;&#x663E;&#x793A;&#x4E3A;UNKNOWN&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> userservice
</code></pre><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/27.jpg" alt="image-20220323155305545"></p><p>&#x5F53;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x8DDF;Eureka&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x5FC3;&#x8DF3;&#x5305;&#xFF0C;&#x8FD9;&#x6837;Eureka&#x5C31;&#x80FD;&#x591F;&#x611F;&#x77E5;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;</p><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x7528;&#x540C;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E5F;&#x6CE8;&#x518C;&#x8FDB;&#x6765;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/28.jpg" alt="image-20220323155948425"></p><p>&#x90A3;&#x4E48;&#xFF0C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x5462;&#xFF1F;</p><p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5982;&#x679C;&#x9700;&#x8981;&#x5BF9;&#x5176;&#x4ED6;&#x5FAE;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5FC5;&#x987B;&#x8981;&#x77E5;&#x9053;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x7684;&#x5730;&#x5740;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token class-name">User</span> user <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8082/user/&quot;</span><span class="token operator">+</span>uid<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>&#x800C;&#x73B0;&#x5728;&#x6709;&#x4E86;Eureka&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5411;&#x5176;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5F97;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x5C06;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x66FF;&#x6362;&#x5373;&#x53EF;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BorrowService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">RestTemplate</span> template<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserBorrowDetail</span> <span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> borrow <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getBorrowsByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//&#x8FD9;&#x91CC;&#x4E0D;&#x7528;&#x518D;&#x5199;IP&#xFF0C;&#x76F4;&#x63A5;&#x5199;&#x670D;&#x52A1;&#x540D;&#x79F0;userservice</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://userservice/user/&quot;</span><span class="token operator">+</span>uid<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//&#x8FD9;&#x91CC;&#x4E0D;&#x7528;&#x518D;&#x5199;IP&#xFF0C;&#x76F4;&#x63A5;&#x5199;&#x670D;&#x52A1;&#x540D;&#x79F0;bookservice</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList <span class="token operator">=</span> borrow
                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">-&gt;</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://bookservice/book/&quot;</span><span class="token operator">+</span>b<span class="token punctuation">.</span><span class="token function">getBid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserBorrowDetail</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> bookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x624B;&#x52A8;&#x5C06;RestTemplate&#x58F0;&#x660E;&#x4E3A;&#x4E00;&#x4E2A;Bean&#xFF0C;&#x7136;&#x540E;&#x6DFB;&#x52A0;<code>@LoadBalanced</code>&#x6CE8;&#x89E3;&#xFF0C;&#x8FD9;&#x6837;Eureka&#x5C31;&#x4F1A;&#x5BF9;&#x670D;&#x52A1;&#x7684;&#x8C03;&#x7528;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@LoadBalanced</span>
    <span class="token class-name">RestTemplate</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8C03;&#x7528;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/29.jpg" alt="image-20220323161809122"></p><p>&#x4E0D;&#x5BF9;&#x554A;&#xFF0C;&#x4E0D;&#x662F;&#x8BF4;&#x6709;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x80FD;&#x529B;&#x5417;&#xFF0C;&#x600E;&#x4E48;&#x4E2A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5462;&#xFF1F;</p><p>&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x770B;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x53EF;&#x4EE5;&#x6CE8;&#x518C;&#x5F88;&#x591A;&#x4E2A;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4EEC;&#x7684;&#x7AEF;&#x53E3;&#x4E0D;&#x540C;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5C06;&#x539F;&#x6709;&#x7684;&#x7AEF;&#x53E3;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#xFF0C;&#x7531;IDEA&#x4E2D;&#x8BBE;&#x5B9A;&#x542F;&#x52A8;&#x53C2;&#x6570;&#x6765;&#x51B3;&#x5B9A;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x591A;&#x521B;&#x5EFA;&#x51E0;&#x4E2A;&#x4E0D;&#x540C;&#x7AEF;&#x53E3;&#x7684;&#x542F;&#x52A8;&#x9879;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/30.jpg" alt="image-20220323162858616"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/31.jpg" alt="image-20220323162926482"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5728;Eureka&#x4E2D;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x51FA;&#x73B0;&#x4E86;&#x4E24;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/32.jpg" alt="image-20220323163010052"></p><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x7A0D;&#x5FAE;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#xFF0C;&#x770B;&#x770B;&#x8BF7;&#x6C42;&#x662F;&#x4E0D;&#x662F;&#x5747;&#x5300;&#x5730;&#x5206;&#x914D;&#x5230;&#x8FD9;&#x4E24;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">UserService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&#x6211;&#x88AB;&#x8C03;&#x7528;&#x62C9;&#xFF01;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/33.jpg" alt="image-20220323163335257"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x4E24;&#x4E2A;&#x5B9E;&#x4F8B;&#x90FD;&#x80FD;&#x591F;&#x5747;&#x5300;&#x5730;&#x88AB;&#x5206;&#x914D;&#x8BF7;&#x6C42;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/34.jpg" alt="image-20220323163448765"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/35.jpg" alt="image-20220323163457877"></p><p>&#x8FD9;&#x6837;&#xFF0C;&#x670D;&#x52A1;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x4EE5;&#x53CA;&#x7B80;&#x5355;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5C31;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x6302;&#x6389;&#x4E86;&#xFF0C;&#x53EA;&#x8981;&#x5B58;&#x5728;&#x5176;&#x4ED6;&#x540C;&#x6837;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x5728;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x6574;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x6781;&#x5927;&#x5730;&#x4FDD;&#x8BC1;&#x4E86;&#x5B89;&#x5168;&#x6027;&#x3002;</p><h3 id="&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9AD8;&#x53EF;&#x7528;"><a name="&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9AD8;&#x53EF;&#x7528;" class="plugin-anchor" href="#&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9AD8;&#x53EF;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9AD8;&#x53EF;&#x7528;</h3><p>&#x5404;&#x4F4D;&#x53EF;&#x5426;&#x60F3;&#x8FC7;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1F;&#x867D;&#x7136;Eureka&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x548C;&#x53D1;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;Eureka&#x670D;&#x52A1;&#x5668;&#x5D29;&#x6E83;&#x4E86;&#xFF0C;&#x5C82;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x9700;&#x8981;&#x7528;&#x5230;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5C31;GG&#x4E86;&#xFF1F;</p><p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#xFF0C;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x50CF;&#x4E0A;&#x9762;&#x90A3;&#x6837;&#xFF0C;&#x642D;&#x5EFA;Eureka&#x96C6;&#x7FA4;&#xFF0C;&#x5B58;&#x5728;&#x591A;&#x4E2A;Eureka&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x7B97;&#x6302;&#x6389;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x4E5F;&#x8FD8;&#x5728;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x4F7F;&#x5F97;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;&#x4E0D;&#x53EF;&#x7528;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x8981;&#x662F;&#x7269;&#x7406;&#x9ED1;&#x5BA2;&#x76F4;&#x63A5;&#x70B8;&#x4E86;&#x6574;&#x4E2A;&#x673A;&#x623F;&#xFF0C;&#x90A3;&#x8FD8;&#x662F;&#x7B97;&#x4E86;&#x5427;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/36.jpg" alt="image-20220323205531185"></p><p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x5982;&#x4F55;&#x642D;&#x5EFA;Eureka&#x96C6;&#x7FA4;&#xFF0C;&#x8FD9;&#x91CC;&#x7531;&#x4E8E;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x4E0D;&#x9AD8;&#xFF0C;&#x5C31;&#x642D;&#x5EFA;&#x4E24;&#x4E2A;Eureka&#x670D;&#x52A1;&#x5668;&#x7EC4;&#x6210;&#x96C6;&#x7FA4;&#x3002;</p><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;Eureka&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8801</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eurekaserver
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
      <span class="token comment"># &#x7531;&#x4E8E;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x4E2A;localhost&#x7684;Eureka&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x53C8;&#x53EA;&#x6709;&#x672C;&#x5730;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x53EA;&#x80FD;&#x81EA;&#x5B9A;&#x4E49;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x4E86;</span>
      <span class="token comment"># &#x4E3B;&#x673A;&#x540D;&#x79F0;&#x6539;&#x4E3A;eureka01</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka01
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># &#x53BB;&#x6389;register-with-eureka&#x9009;&#x9879;&#xFF0C;&#x8BA9;Eureka&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;&#x5176;&#x4ED6;Eureka&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x76F8;&#x4E92;&#x542F;&#x7528;</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x586B;&#x5199;&#x5176;&#x4ED6;Eureka&#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x4E0D;&#x7528;&#x5199;&#x81EA;&#x5DF1;&#x7684;</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka01<span class="token punctuation">:</span>8801/eureka
</code></pre><pre class="language-"><code class="lang-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8802</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eurekaserver
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka02
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka01<span class="token punctuation">:</span>8801/eureka
</code></pre><p>&#x8FD9;&#x91CC;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x6210;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x9700;&#x8981;&#x5728;hosts&#x6587;&#x4EF6;&#x4E2D;&#x5C06;&#x5176;&#x89E3;&#x6790;&#x5230;172.0.0.1&#x624D;&#x80FD;&#x56DE;&#x5230;localhost&#xFF0C;Mac&#x4E0B;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4E3A;<code>/etc/hosts</code>&#xFF0C;Windows&#x4E0B;&#x4E3A;<code>C:\Windows\system32\drivers\etc\hosts</code>&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/37.jpg" alt="image-20220323210218653"></p><p>&#x5BF9;&#x521B;&#x5EFA;&#x7684;&#x4E24;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x542F;&#x52A8;&#x914D;&#x7F6E;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>spring.profiles.active</code>&#x6307;&#x5B9A;&#x542F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5373;&#x53EF;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/38.jpg" alt="image-20220323212308857"></p><p>&#x63A5;&#x7740;&#x542F;&#x52A8;&#x8FD9;&#x4E24;&#x4E2A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;Eureka&#x7BA1;&#x7406;&#x9875;&#x9762;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x8BBF;&#x95EE;&#xFF0C;&#x6211;&#x4EEC;&#x8BBF;&#x95EE;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/39.jpg" alt="image-20220323210937341"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/40.jpg" alt="image-20220323210619533"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E0B;&#x65B9;<code>replicas</code>&#x4E2D;&#x5DF2;&#x7ECF;&#x5305;&#x542B;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;Eureka&#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x53EF;&#x7528;&#x72B6;&#x6001;&#x3002;</p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x6211;&#x4EEC;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x4E5F;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x5C06;&#x4E24;&#x4E2A;Eureka&#x7684;&#x5730;&#x5740;&#x90FD;&#x52A0;&#x5165;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x7B97;&#x6709;&#x4E00;&#x4E2A;Eureka&#x6302;&#x6389;&#xFF0C;&#x4E5F;&#x80FD;&#x5B8C;&#x6210;&#x6CE8;&#x518C;</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8801/eureka<span class="token punctuation">,</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8802/eureka
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x670D;&#x52A1;&#x5168;&#x90E8;&#x6210;&#x529F;&#x6CE8;&#x518C;&#xFF0C;&#x5E76;&#x4E14;&#x4E24;&#x4E2A;Eureka&#x670D;&#x52A1;&#x7AEF;&#x90FD;&#x663E;&#x793A;&#x4E3A;&#x5DF2;&#x6CE8;&#x518C;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/41.jpg" alt="image-20220323211032311"></p><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6A21;&#x62DF;&#x4E00;&#x4E0B;&#xFF0C;&#x5C06;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;Eureka&#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;&#x6389;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B83;&#x4F1A;&#x76F4;&#x63A5;&#x53D8;&#x6210;&#x4E0D;&#x53EF;&#x7528;&#x72B6;&#x6001;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/42.jpg" alt="image-20220323211354516"></p><p>&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x91CD;&#x542F;&#x521A;&#x521A;&#x5173;&#x95ED;&#x7684;Eureka&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x540C;&#x6B65;&#x5176;&#x4ED6;Eureka&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x3002;</p><hr><h2 id="loadbalancer-&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><a name="loadbalancer-&#x8D1F;&#x8F7D;&#x5747;&#x8861;" class="plugin-anchor" href="#loadbalancer-&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><i class="fa fa-link" aria-hidden="true"></i></a>LoadBalancer &#x8D1F;&#x8F7D;&#x5747;&#x8861;</h2><p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x4E86;&#x5982;&#x4F55;&#x5BF9;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x62C6;&#x5206;&#x3001;&#x5982;&#x4F55;&#x901A;&#x8FC7;Eureka&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;&#xFF0C;&#x90A3;&#x4E48;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#xFF0C;&#x5B83;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x4E4B;&#x524D;&#x6F14;&#x793A;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x662F;&#x4F9D;&#x9760;LoadBalancer&#x5B9E;&#x73B0;&#x7684;&#x3002;</p><p>&#x5728;2020&#x5E74;&#x524D;&#x7684;SpringCloud&#x7248;&#x672C;&#x662F;&#x91C7;&#x7528;Ribbon&#x4F5C;&#x4E3A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5B9E;&#x73B0;&#xFF0C;&#x4F46;&#x662F;2020&#x5E74;&#x7684;&#x7248;&#x672C;&#x4E4B;&#x540E;SpringCloud&#x628A;Ribbon&#x79FB;&#x9664;&#x4E86;&#xFF0C;&#x8FDB;&#x800C;&#x7528;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x7684;LoadBalancer&#x66FF;&#x4EE3;&#x3002;</p><p>&#x90A3;&#x4E48;&#xFF0C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x662F;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x7684;&#x5462;&#xFF1F;</p><h3 id="&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><a name="&#x8D1F;&#x8F7D;&#x5747;&#x8861;" class="plugin-anchor" href="#&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8D1F;&#x8F7D;&#x5747;&#x8861;</h3><p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5728;&#x6DFB;&#x52A0;<code>@LoadBalanced</code>&#x6CE8;&#x89E3;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x542F;&#x7528;&#x62E6;&#x622A;&#x5668;&#x5BF9;&#x6211;&#x4EEC;&#x53D1;&#x8D77;&#x7684;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#xFF08;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x662F;&#x9488;&#x5BF9;&#x6211;&#x4EEC;&#x53D1;&#x8D77;&#x7684;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#xFF09;&#xFF0C;&#x53EB;&#x505A;<code>LoadBalancerInterceptor</code>&#xFF0C;&#x5B83;&#x5B9E;&#x73B0;<code>ClientHttpRequestInterceptor</code>&#x63A5;&#x53E3;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ClientHttpRequestInterceptor</span> <span class="token punctuation">{</span>
    <span class="token class-name">ClientHttpResponse</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">HttpRequest</span> request<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body<span class="token punctuation">,</span> <span class="token class-name">ClientHttpRequestExecution</span> execution<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x4E3B;&#x8981;&#x662F;&#x5BF9;<code>intercept</code>&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token class-name">ClientHttpResponse</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">HttpRequest</span> request<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ClientHttpRequestExecution</span> execution<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">URI</span> originalUri <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> serviceName <span class="token operator">=</span> originalUri<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token function">state</span><span class="token punctuation">(</span>serviceName <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;Request URI does not contain a valid hostname: &quot;</span> <span class="token operator">+</span> originalUri<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">ClientHttpResponse</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>loadBalancer<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>serviceName<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>requestFactory<span class="token punctuation">.</span><span class="token function">createRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> body<span class="token punctuation">,</span> execution<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6253;&#x4E2A;&#x65AD;&#x70B9;&#x770B;&#x770B;&#x5B9E;&#x9645;&#x662F;&#x600E;&#x4E48;&#x5728;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/43.jpg" alt="image-20220323220519463"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/44.jpg" alt="image-20220323220548051"></p><p>&#x670D;&#x52A1;&#x7AEF;&#x4F1A;&#x5728;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x65F6;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x62E6;&#x622A;&#x5668;&#x3002;</p><p>&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x505A;&#x4E86;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#x5462;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x8981;&#x660E;&#x786E;&#xFF0C;&#x6211;&#x4EEC;&#x7ED9;&#x8FC7;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF0C;&#x800C;&#x662F;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x90A3;&#x4E48;&#x600E;&#x4E48;&#x624D;&#x80FD;&#x5F97;&#x5230;&#x771F;&#x6B63;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x5462;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x5F97;&#x627E;Eureka&#x83B7;&#x53D6;&#x7684;&#x3002;</p><p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;<code>loadBalancer.execute()</code>&#x505A;&#x4E86;&#x4EC0;&#x4E48;&#xFF0C;&#x5B83;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x4E3A;<code>BlockingLoadBalancerClient</code>&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token comment">//&#x4ECE;&#x4E0A;&#x9762;&#x7ED9;&#x8FDB;&#x6765;&#x4E86;&#x670D;&#x52A1;&#x7684;&#x540D;&#x79F0;&#x548C;&#x5177;&#x4F53;&#x7684;&#x8BF7;&#x6C42;&#x5B9E;&#x4F53;</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> serviceId<span class="token punctuation">,</span> <span class="token class-name">LoadBalancerRequest</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> hint <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getHint</span><span class="token punctuation">(</span>serviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LoadBalancerRequestAdapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">DefaultRequestContext</span><span class="token punctuation">&gt;</span></span> lbRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoadBalancerRequestAdapter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DefaultRequestContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> hint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoadBalancerLifecycle</span><span class="token punctuation">&gt;</span></span> supportedLifecycleProcessors <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSupportedLifecycleProcessors</span><span class="token punctuation">(</span>serviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    supportedLifecycleProcessors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>lifecycle<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        lifecycle<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span>lbRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x8FD9;&#x91CC;&#x4F1A;&#x8C03;&#x7528;choose&#x65B9;&#x6CD5;&#x81EA;&#x52A8;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4FE1;&#x606F;</span>
    <span class="token class-name">ServiceInstance</span> serviceInstance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">choose</span><span class="token punctuation">(</span>serviceId<span class="token punctuation">,</span> lbRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>serviceInstance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        supportedLifecycleProcessors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>lifecycle<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            lifecycle<span class="token punctuation">.</span><span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CompletionContext</span><span class="token punctuation">(</span><span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">DISCARD</span><span class="token punctuation">,</span> lbRequest<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">EmptyResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">//&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x4EFB;&#x4F55;&#x6B64;&#x670D;&#x52A1;&#x7684;&#x5B9E;&#x4F8B;&#x5C31;&#x629B;&#x5F02;&#x5E38;&#xFF08;&#x4E4B;&#x524D;&#x7684;&#x6D4B;&#x8BD5;&#x4E2D;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x9047;&#x5230;&#x4E86;&#xFF09;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;No instances available for &quot;</span> <span class="token operator">+</span> serviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">//&#x6210;&#x529F;&#x83B7;&#x53D6;&#x5230;&#x5BF9;&#x5E94;&#x670D;&#x52A1;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x53EF;&#x4EE5;&#x53D1;&#x8D77;HTTP&#x8BF7;&#x6C42;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#x4E86;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>serviceId<span class="token punctuation">,</span> serviceInstance<span class="token punctuation">,</span> lbRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x6240;&#x4EE5;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5411;Eureka&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x5BF9;&#x5E94;&#x670D;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x8FD4;&#x56DE;&#x6B64;&#x670D;&#x52A1;&#x7684;&#x4E3B;&#x673A;&#x5730;&#x5740;&#x7B49;&#x4FE1;&#x606F;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/45.jpg" alt="image-20220324120741736"></p><h3 id="&#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;"><a name="&#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;" class="plugin-anchor" href="#&#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;</h3><p>LoadBalancer&#x9ED8;&#x8BA4;&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF1A;</p><ul><li>RandomLoadBalancer - &#x968F;&#x673A;&#x5206;&#x914D;&#x7B56;&#x7565;</li><li><strong>(&#x9ED8;&#x8BA4;)</strong> RoundRobinLoadBalancer - &#x8F6E;&#x8BE2;&#x5206;&#x914D;&#x7B56;&#x7565;</li></ul><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6307;&#x5B9A;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5E0C;&#x671B;&#x7528;&#x6237;&#x670D;&#x52A1;&#x91C7;&#x7528;&#x968F;&#x673A;&#x5206;&#x914D;&#x7B56;&#x7565;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5148;&#x521B;&#x5EFA;&#x968F;&#x673A;&#x5206;&#x914D;&#x7B56;&#x7565;&#x7684;&#x914D;&#x7F6E;&#x7C7B;&#xFF08;&#x4E0D;&#x7528;&#x52A0;<code>@Configuration</code>&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoadBalancerConfig</span> <span class="token punctuation">{</span>
      <span class="token comment">//&#x5C06;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684; RandomLoadBalancer &#x6CE8;&#x518C;&#x4E3A;Bean</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ReactorLoadBalancer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> <span class="token function">randomLoadBalancer</span><span class="token punctuation">(</span><span class="token class-name">Environment</span> environment<span class="token punctuation">,</span> <span class="token class-name">LoadBalancerClientFactory</span> loadBalancerClientFactory<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token class-name">LoadBalancerClientFactory</span><span class="token punctuation">.</span><span class="token constant">PROPERTY_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RandomLoadBalancer</span><span class="token punctuation">(</span>loadBalancerClientFactory<span class="token punctuation">.</span><span class="token function">getLazyProvider</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token class-name">ServiceInstanceListSupplier</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E3A;&#x5BF9;&#x5E94;&#x7684;&#x670D;&#x52A1;&#x6307;&#x5B9A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5373;&#x53EF;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@LoadBalancerClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;userservice&quot;</span><span class="token punctuation">,</span>      <span class="token comment">//&#x6307;&#x5B9A;&#x4E3A; userservice &#x670D;&#x52A1;&#xFF0C;&#x53EA;&#x8981;&#x662F;&#x8C03;&#x7528;&#x6B64;&#x670D;&#x52A1;&#x90FD;&#x4F1A;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x7684;&#x7B56;&#x7565;</span>
                    configuration <span class="token operator">=</span> <span class="token class-name">LoadBalancerConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>   <span class="token comment">//&#x6307;&#x5B9A;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x914D;&#x7F6E;&#x7C7B;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@LoadBalanced</span>
    <span class="token class-name">RestTemplate</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5728;<code>BlockingLoadBalancerClient</code>&#x4E2D;&#x6DFB;&#x52A0;&#x65AD;&#x70B9;&#xFF0C;&#x89C2;&#x5BDF;&#x662F;&#x5426;&#x91C7;&#x7528;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x7684;&#x7B56;&#x7565;&#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/46.jpg" alt="image-20220324221750289"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/47.jpg" alt="image-20220324221713964"></p><p>&#x53D1;&#x73B0;&#x8BBF;&#x95EE;userservice&#x670D;&#x52A1;&#x7684;&#x7B56;&#x7565;&#x5DF2;&#x7ECF;&#x66F4;&#x6539;&#x4E3A;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x7684;&#x7B56;&#x7565;&#x4E86;&#x3002;</p><h3 id="openfeign&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><a name="openfeign&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;" class="plugin-anchor" href="#openfeign&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><i class="fa fa-link" aria-hidden="true"></i></a>OpenFeign&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;</h3><p>&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/" target="_blank">https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/</a></p><p>Feign&#x548C;RestTemplate&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;HTTP&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5DE5;&#x5177;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x66F4;&#x52A0;&#x4FBF;&#x6377;&#x3002;&#x9996;&#x5148;&#x662F;&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x63A5;&#x7740;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;<code>@EnableFeignClients</code>&#x6CE8;&#x89E3;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableFeignClients</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">BorrowApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x90A3;&#x4E48;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8C03;&#x7528;&#x5176;&#x4ED6;&#x5FAE;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x670D;&#x52A1;&#x7684;&#x63A5;&#x53E3;&#x7C7B;&#x5373;&#x53EF;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span><span class="token string">&quot;userservice&quot;</span><span class="token punctuation">)</span>   <span class="token comment">//&#x58F0;&#x660E;&#x4E3A;userservice&#x670D;&#x52A1;&#x7684;HTTP&#x8BF7;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserClient</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x6240;&#x9700;&#x7C7B;&#x578B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x7684;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token class-name">RestTemplate</span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">User</span> user <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://userservice/user/&quot;</span><span class="token operator">+</span>uid<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x6210;&#x8FD9;&#x6837;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span><span class="token string">&quot;userservice&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserClient</span> <span class="token punctuation">{</span>

      <span class="token comment">//&#x8DEF;&#x5F84;&#x4FDD;&#x8BC1;&#x548C;&#x5176;&#x4ED6;&#x5FAE;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x81F4;&#x5373;&#x53EF;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//&#x53C2;&#x6570;&#x548C;&#x8FD4;&#x56DE;&#x503C;&#x4E5F;&#x4FDD;&#x6301;&#x4E00;&#x81F4;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x6CE8;&#x5165;&#x4F7F;&#x7528;&#xFF08;&#x6709;Mybatis&#x90A3;&#x5473;&#x4E86;&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Resource</span>
<span class="token class-name">UserClient</span> userClient<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">UserBorrowDetail</span> <span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> borrow <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getBorrowsByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> user <span class="token operator">=</span> userClient<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x8FD9;&#x91CC;&#x4E0D;&#x7528;&#x518D;&#x5199;IP&#xFF0C;&#x76F4;&#x63A5;&#x5199;&#x670D;&#x52A1;&#x540D;&#x79F0;bookservice</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList <span class="token operator">=</span> borrow
            <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">-&gt;</span> template<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">&quot;http://bookservice/book/&quot;</span><span class="token operator">+</span>b<span class="token punctuation">.</span><span class="token function">getBid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserBorrowDetail</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> bookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x8BBF;&#x95EE;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7ED3;&#x679C;&#x4F9D;&#x7136;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/48.jpg" alt="image-20220324181614387"></p><p>&#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x4E00;&#x4E0B;&#x4E24;&#x4E2A;&#x7528;&#x6237;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x8C03;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x4E5F;&#x662F;&#x4EE5;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x7684;&#x3002;</p><p>&#x6309;&#x7167;&#x540C;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x5C06;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x7684;&#x8C03;&#x7528;&#x4E5F;&#x6539;&#x6210;&#x63A5;&#x53E3;&#x5F62;&#x5F0F;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/49.jpg" alt="image-20220324181740566"></p><p>&#x6700;&#x540E;&#x6211;&#x4EEC;&#x7684;Service&#x4EE3;&#x7801;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BorrowService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">UserClient</span> userClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BookClient</span> bookClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserBorrowDetail</span> <span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Borrow</span><span class="token punctuation">&gt;</span></span> borrow <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getBorrowsByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">User</span> user <span class="token operator">=</span> userClient<span class="token punctuation">.</span><span class="token function">getUserById</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList <span class="token operator">=</span> borrow
                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">-&gt;</span> bookClient<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">getBid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserBorrowDetail</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> bookList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x7EE7;&#x7EED;&#x8BBF;&#x95EE;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/50.jpg" alt="image-20220324181910173"></p><p>OK&#xFF0C;&#x6B63;&#x5E38;&#x3002;</p><p>&#x5F53;&#x7136;&#xFF0C;Feign&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x7684;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x9009;&#x9879;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x591A;&#x505A;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x8BE6;&#x7EC6;&#x8BF7;&#x67E5;&#x9605;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002;</p><hr><h2 id="hystrix-&#x670D;&#x52A1;&#x7194;&#x65AD;"><a name="hystrix-&#x670D;&#x52A1;&#x7194;&#x65AD;" class="plugin-anchor" href="#hystrix-&#x670D;&#x52A1;&#x7194;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a>Hystrix &#x670D;&#x52A1;&#x7194;&#x65AD;</h2><p>&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-netflix/1.3.5.RELEASE/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients" target="_blank">https://cloud.spring.io/spring-cloud-static/spring-cloud-netflix/1.3.5.RELEASE/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients</a></p><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x662F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x4E86;&#x4E0B;&#x9762;&#x7684;&#x60C5;&#x51B5;&#x4F1A;&#x5BFC;&#x81F4;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF1F;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/51.jpg" alt="image-20220324141230070"></p><p>&#x7531;&#x4E8E;&#x4F4D;&#x4E8E;&#x6700;&#x5E95;&#x7AEF;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;E&#x53D1;&#x751F;&#x6545;&#x969C;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x4F1A;&#x76F4;&#x63A5;&#x5BFC;&#x81F4;&#x670D;&#x52A1;ABCD&#x5168;&#x7EBF;&#x5D29;&#x6E83;&#xFF0C;&#x5C31;&#x50CF;&#x96EA;&#x5D29;&#x4E86;&#x4E00;&#x6837;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/52.jpg" alt="image-20220324141706946"></p><p>&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#xFF0C;&#x7531;&#x4E8E;&#x591A;&#x79CD;&#x56E0;&#x7D20;&#xFF0C;&#x6BD4;&#x5982;&#x7F51;&#x7EDC;&#x5361;&#x987F;&#x3001;&#x7CFB;&#x7EDF;&#x6545;&#x969C;&#x3001;&#x786C;&#x4EF6;&#x95EE;&#x9898;&#x7B49;&#xFF0C;&#x90FD;&#x5B58;&#x5728;&#x4E00;&#x5B9A;&#x53EF;&#x80FD;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x8FD9;&#x79CD;&#x6781;&#x7AEF;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5BFB;&#x627E;&#x4E00;&#x4E2A;&#x5E94;&#x5BF9;&#x8FD9;&#x79CD;&#x6781;&#x7AEF;&#x60C5;&#x51B5;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7684;&#x96EA;&#x5D29;&#x95EE;&#x9898;&#xFF0C;SpringCloud&#x63D0;&#x4F9B;&#x4E86;Hystrix&#x7194;&#x65AD;&#x5668;&#x7EC4;&#x4EF6;&#xFF0C;&#x4ED6;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x5BB6;&#x4E2D;&#x7684;&#x4FDD;&#x9669;&#x4E1D;&#x4E00;&#x6837;&#xFF0C;&#x5F53;&#x7535;&#x6D41;&#x8FC7;&#x8F7D;&#x5C31;&#x4F1A;&#x76F4;&#x63A5;&#x7194;&#x65AD;&#xFF0C;&#x9632;&#x6B62;&#x5371;&#x9669;&#x8FDB;&#x4E00;&#x6B65;&#x53D1;&#x751F;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x5BB6;&#x5EAD;&#x7528;&#x7535;&#x5B89;&#x5168;&#x3002;&#x53EF;&#x4EE5;&#x60F3;&#x8C61;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6574;&#x6761;&#x94FE;&#x8DEF;&#x4E0A;&#x7684;&#x670D;&#x52A1;&#x5DF2;&#x7ECF;&#x5168;&#x7EBF;&#x5D29;&#x6E83;&#xFF0C;&#x8FD9;&#x65F6;&#x8FD8;&#x5728;&#x4E0D;&#x65AD;&#x5730;&#x6709;&#x5927;&#x91CF;&#x7684;&#x8BF7;&#x6C42;&#x5230;&#x8FBE;&#xFF0C;&#x9700;&#x8981;&#x5404;&#x4E2A;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x4F1A;&#x4F7F;&#x5F97;&#x60C5;&#x51B5;&#x8D8A;&#x6765;&#x8D8A;&#x7CDF;&#x7CD5;&#x7684;&#x3002;</p><p>&#x6211;&#x4EEC;&#x6765;&#x8BE6;&#x7EC6;&#x770B;&#x770B;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x673A;&#x5236;&#x3002;</p><h3 id="&#x670D;&#x52A1;&#x964D;&#x7EA7;"><a name="&#x670D;&#x52A1;&#x964D;&#x7EA7;" class="plugin-anchor" href="#&#x670D;&#x52A1;&#x964D;&#x7EA7;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x670D;&#x52A1;&#x964D;&#x7EA7;</h3><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#xFF0C;&#x6CE8;&#x610F;&#x4E00;&#x5B9A;&#x8981;&#x533A;&#x5206;&#x5F00;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x548C;&#x670D;&#x52A1;&#x7194;&#x65AD;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x5E76;&#x4E0D;&#x4F1A;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#xFF0C;&#x800C;&#x662F;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x8865;&#x6551;&#x63AA;&#x65BD;&#xFF0C;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#x7ED9;&#x8BF7;&#x6C42;&#x8005;&#x3002;&#x8FD9;&#x6837;&#x76F8;&#x5F53;&#x4E8E;&#x670D;&#x52A1;&#x4F9D;&#x7136;&#x53EF;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x670D;&#x52A1;&#x80FD;&#x529B;&#x80AF;&#x5B9A;&#x662F;&#x4E0B;&#x964D;&#x4E86;&#x7684;&#x3002;</p><p>&#x6211;&#x4EEC;&#x5C31;&#x57FA;&#x4E8E;&#x501F;&#x9605;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x6765;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x5F00;&#x542F;&#x7528;&#x6237;&#x670D;&#x52A1;&#x548C;&#x56FE;&#x4E66;&#x670D;&#x52A1;&#xFF0C;&#x8868;&#x793A;&#x7528;&#x6237;&#x670D;&#x52A1;&#x548C;&#x56FE;&#x4E66;&#x670D;&#x52A1;&#x5DF2;&#x7ECF;&#x6302;&#x6389;&#x4E86;&#x3002;</p><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5BFC;&#x5165;Hystrix&#x7684;&#x4F9D;&#x8D56;&#xFF08;&#x6B64;&#x9879;&#x76EE;&#x5DF2;&#x7ECF;&#x505C;&#x6B62;&#x7EF4;&#x62A4;&#xFF0C;SpringCloud&#x4F9D;&#x8D56;&#x4E2D;&#x5DF2;&#x7ECF;&#x4E0D;&#x81EA;&#x5E26;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8BF4;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5355;&#x72EC;&#x5BFC;&#x5165;&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-xml">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;&#x5F00;&#x542F;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableHystrix</span>   <span class="token comment">//&#x542F;&#x7528;Hystrix</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">BorrowApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x90A3;&#x4E48;&#x73B0;&#x5728;&#xFF0C;&#x7531;&#x4E8E;&#x7528;&#x6237;&#x670D;&#x52A1;&#x548C;&#x56FE;&#x4E66;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x67E5;&#x8BE2;&#x501F;&#x9605;&#x4FE1;&#x606F;&#x7684;&#x8BF7;&#x6C42;&#x80AF;&#x5B9A;&#x662F;&#x6CA1;&#x529E;&#x6CD5;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#x7684;&#xFF0C;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5907;&#x9009;&#x65B9;&#x6848;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5F53;&#x670D;&#x52A1;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x6211;&#x4EEC;&#x7684;&#x5907;&#x9009;&#x65B9;&#x6848;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;onError&quot;</span><span class="token punctuation">)</span>    <span class="token comment">//&#x4F7F;&#x7528;@HystrixCommand&#x6765;&#x6307;&#x5B9A;&#x5907;&#x9009;&#x65B9;&#x6848;</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/borrow/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">UserBorrowDetail</span> <span class="token function">findUserBorrows</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

      <span class="token comment">//&#x5907;&#x9009;&#x65B9;&#x6848;&#xFF0C;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x7A7A;&#x5217;&#x8868;&#x4E86;</span>
      <span class="token comment">//&#x6CE8;&#x610F;&#x53C2;&#x6570;&#x548C;&#x8FD4;&#x56DE;&#x503C;&#x8981;&#x548C;&#x4E0A;&#x9762;&#x7684;&#x4E00;&#x81F4;</span>
    <span class="token class-name">UserBorrowDetail</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserBorrowDetail</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x53EF;&#x4EE5;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x6570;&#x636E;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/53.jpg" alt="image-20220324150253610"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/54.jpg" alt="image-20220324150310955"></p><p>&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x662F;&#x4E00;&#x79CD;&#x6BD4;&#x8F83;&#x6E29;&#x67D4;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x867D;&#x7136;&#x670D;&#x52A1;&#x672C;&#x8EAB;&#x7684;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#x6570;&#x636E;&#x3002;</p><h3 id="&#x670D;&#x52A1;&#x7194;&#x65AD;"><a name="&#x670D;&#x52A1;&#x7194;&#x65AD;" class="plugin-anchor" href="#&#x670D;&#x52A1;&#x7194;&#x65AD;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x670D;&#x52A1;&#x7194;&#x65AD;</h3><p>&#x7194;&#x65AD;&#x673A;&#x5236;&#x662F;&#x5E94;&#x5BF9;&#x96EA;&#x5D29;&#x6548;&#x5E94;&#x7684;&#x4E00;&#x79CD;&#x5FAE;&#x670D;&#x52A1;&#x94FE;&#x8DEF;&#x4FDD;&#x62A4;&#x673A;&#x5236;&#xFF0C;&#x5F53;&#x68C0;&#x6D4B;&#x51FA;&#x94FE;&#x8DEF;&#x7684;&#x67D0;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#x6216;&#x8005;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x592A;&#x957F;&#x65F6;&#xFF0C;&#x4F1A;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x7684;&#x964D;&#x7EA7;&#xFF0C;&#x8FDB;&#x800C;&#x7194;&#x65AD;&#x8BE5;&#x8282;&#x70B9;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x5FEB;&#x901F;&#x8FD4;&#x56DE;&#x201D;&#x9519;&#x8BEF;&#x201D;&#x7684;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x68C0;&#x6D4B;&#x5230;&#x8BE5;&#x8282;&#x70B9;&#x5FAE;&#x670D;&#x52A1;&#x54CD;&#x5E94;&#x6B63;&#x5E38;&#x540E;&#x6062;&#x590D;&#x8C03;&#x7528;&#x94FE;&#x8DEF;&#x3002;</p><p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x7194;&#x65AD;&#x5C31;&#x662F;&#x5728;&#x964D;&#x7EA7;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x4E00;&#x6B65;&#x5347;&#x7EA7;&#x5F62;&#x6210;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x76F4;&#x63A5;&#x5347;&#x7EA7;&#x4E3A;&#x7194;&#x65AD;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4E24;&#x6761;&#x8F93;&#x51FA;&#x8BED;&#x53E5;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;onError&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/borrow/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">UserBorrowDetail</span> <span class="token function">findUserBorrows</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&#x5F00;&#x59CB;&#x5411;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">UserBorrowDetail</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&#x670D;&#x52A1;&#x9519;&#x8BEF;&#xFF0C;&#x8FDB;&#x5165;&#x5907;&#x9009;&#x65B9;&#x6CD5;&#xFF01;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserBorrowDetail</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x75AF;&#x72C2;&#x70B9;&#x51FB;&#x5237;&#x65B0;&#x6309;&#x94AE;&#xFF0C;&#x5BF9;&#x6B64;&#x670D;&#x52A1;&#x75AF;&#x72C2;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x540E;&#x53F0;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/55.jpg" alt="image-20220324152044551"></p><p>&#x4E00;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x6B63;&#x5E38;&#x5730;&#x53BB;&#x8C03;&#x7528;Controller&#x5BF9;&#x5E94;&#x7684;&#x65B9;&#x6CD5;<code>findUserBorrows</code>&#xFF0C;&#x53D1;&#x73B0;&#x5931;&#x8D25;&#x7136;&#x540E;&#x8FDB;&#x5165;&#x5907;&#x9009;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x5728;&#x6301;&#x7EED;&#x8BF7;&#x6C42;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x6CA1;&#x6709;&#x518D;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5907;&#x9009;&#x65B9;&#x6848;&#xFF0C;&#x8FD9;&#x4FBF;&#x662F;&#x5347;&#x7EA7;&#x5230;&#x4E86;&#x7194;&#x65AD;&#x72B6;&#x6001;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4E0D;&#x65AD;&#x70B9;&#x51FB;&#xFF0C;&#x7EE7;&#x7EED;&#x4E0D;&#x65AD;&#x5730;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/56.jpg" alt="image-20220324152750797"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FC7;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5C1D;&#x8BD5;&#x6B63;&#x5E38;&#x6267;&#x884C;&#x4E00;&#x6B21;<code>findUserBorrows</code>&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x662F;&#x5931;&#x8D25;&#x72B6;&#x6001;&#xFF0C;&#x6240;&#x4EE5;&#x7EE7;&#x7EED;&#x4FDD;&#x6301;&#x7194;&#x65AD;&#x72B6;&#x6001;&#x3002;</p><p>&#x6240;&#x4EE5;&#x5F97;&#x5230;&#x7ED3;&#x8BBA;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x5BF9;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x8FDB;&#x884C;&#x4FA6;&#x6D4B;&#xFF0C;&#x5F53;&#x4FA6;&#x6D4B;&#x5230;&#x51FA;&#x9519;&#x6B21;&#x6570;&#x8FC7;&#x591A;&#x65F6;&#xFF0C;&#x7194;&#x65AD;&#x5668;&#x4F1A;&#x6253;&#x5F00;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x4F1A;&#x76F4;&#x63A5;&#x54CD;&#x5E94;&#x5931;&#x8D25;&#xFF0C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x662F;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x90A3;&#x4E48;&#x5219;&#x7EE7;&#x7EED;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x72B6;&#x6001;&#xFF0C;&#x5426;&#x5219;&#x8BF4;&#x660E;&#x670D;&#x52A1;&#x6062;&#x590D;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x5173;&#x95ED;&#x7194;&#x65AD;&#x5668;&#x3002;</p><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x5F00;&#x542F;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x670D;&#x52A1;&#x4E4B;&#x540E;&#xFF0C;&#x7EE7;&#x7EED;&#x70B9;&#x51FB;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/57.jpg" alt="image-20220324153044583"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5F53;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x670D;&#x52A1;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#xFF0C;&#x5F53;&#x518D;&#x6B21;&#x5C1D;&#x8BD5;&#x8C03;&#x7528;<code>findUserBorrows</code>&#x4E4B;&#x540E;&#x4F1A;&#x6210;&#x529F;&#xFF0C;&#x4E8E;&#x662F;&#x7194;&#x65AD;&#x673A;&#x5236;&#x5C31;&#x5173;&#x95ED;&#x4E86;&#xFF0C;&#x670D;&#x52A1;&#x6062;&#x590D;&#x8FD0;&#x884C;&#x3002;</p><p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/58.jpg" alt="image-20220324153935858"></p><h3 id="openfeign&#x5B9E;&#x73B0;&#x964D;&#x7EA7;"><a name="openfeign&#x5B9E;&#x73B0;&#x964D;&#x7EA7;" class="plugin-anchor" href="#openfeign&#x5B9E;&#x73B0;&#x964D;&#x7EA7;"><i class="fa fa-link" aria-hidden="true"></i></a>OpenFeign&#x5B9E;&#x73B0;&#x964D;&#x7EA7;</h3><p>Hystrix&#x4E5F;&#x53EF;&#x4EE5;&#x914D;&#x5408;Feign&#x8FDB;&#x884C;&#x964D;&#x7EA7;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x63A5;&#x53E3;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5355;&#x72EC;&#x8FDB;&#x884C;&#x964D;&#x7EA7;&#x64CD;&#x4F5C;&#x3002;</p><p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x4EE5;&#x7528;&#x6237;&#x670D;&#x52A1;&#x6302;&#x6389;&#x4E3A;&#x4F8B;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x80AF;&#x5B9A;&#x662F;&#x4F1A;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5931;&#x8D25;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6211;&#x4EEC;&#x7684;Controller&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x76F4;&#x63A5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x8FDB;&#x800C;&#x88AB;Hystrix&#x76D1;&#x63A7;&#x5230;&#x5E76;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x3002;</p><p>&#x800C;&#x5B9E;&#x9645;&#x4E0A;&#x5BFC;&#x81F4;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x5F02;&#x5E38;&#x7684;&#x6839;&#x6E90;&#x5C31;&#x662F;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x6362;&#x4E2A;&#x601D;&#x8DEF;&#xFF0C;&#x65E2;&#x7136;&#x7528;&#x6237;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x5C31;&#x7ED9;&#x8FD9;&#x4E2A;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x76F4;&#x63A5;&#x4E0A;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x3002;&#x90A3;&#x4E48;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x77E5;&#x9053;Feign&#x90FD;&#x662F;&#x4EE5;&#x63A5;&#x53E3;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x58F0;&#x660E;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x65E2;&#x7136;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5DF2;&#x7ECF;&#x5931;&#x6548;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x81EA;&#x884C;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x5B9E;&#x73B0;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5BF9;&#x539F;&#x6709;&#x7684;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x5B9E;&#x73B0;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Component</span>   <span class="token comment">//&#x6CE8;&#x610F;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x5176;&#x6CE8;&#x518C;&#x4E3A;Bean&#xFF0C;Feign&#x624D;&#x80FD;&#x81EA;&#x52A8;&#x6CE8;&#x5165;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserFallbackClient</span> <span class="token keyword">implements</span> <span class="token class-name">UserClient</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token keyword">int</span> uid<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x81EA;&#x884C;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x5B9E;&#x73B0;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x6211;&#x4EEC;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6848;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;&#x6211;&#x662F;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;&#x539F;&#x6709;&#x7684;&#x63A5;&#x53E3;&#x4E2D;&#x6307;&#x5B9A;&#x5931;&#x8D25;&#x66FF;&#x4EE3;&#x5B9E;&#x73B0;&#x5373;&#x53EF;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token comment">//fallback&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E3A;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x7F16;&#x5199;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;userservice&quot;</span><span class="token punctuation">,</span> fallback <span class="token operator">=</span> <span class="token class-name">UserFallbackClient</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserClient</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x73B0;&#x5728;&#x53BB;&#x6389;<code>BorrowController</code>&#x7684;<code>@HystrixCommand</code>&#x6CE8;&#x89E3;&#x548C;&#x5907;&#x9009;&#x65B9;&#x6CD5;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BorrowController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BorrowService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/borrow/{uid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">UserBorrowDetail</span> <span class="token function">findUserBorrows</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> uid<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getUserBorrowDetailByUid</span><span class="token punctuation">(</span>uid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x6700;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5F00;&#x542F;&#x7194;&#x65AD;&#x652F;&#x6301;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">circuitbreaker</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><p>&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF0C;&#x8C03;&#x7528;&#x63A5;&#x53E3;&#x8BD5;&#x8BD5;&#x770B;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/59.jpg" alt="image-20220325122629016"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/60.jpg" alt="image-20220325122301779"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x91C7;&#x7528;&#x6211;&#x4EEC;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x4F5C;&#x4E3A;&#x7ED3;&#x679C;&#x3002;</p><h3 id="&#x76D1;&#x63A7;&#x9875;&#x9762;&#x90E8;&#x7F72;"><a name="&#x76D1;&#x63A7;&#x9875;&#x9762;&#x90E8;&#x7F72;" class="plugin-anchor" href="#&#x76D1;&#x63A7;&#x9875;&#x9762;&#x90E8;&#x7F72;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x76D1;&#x63A7;&#x9875;&#x9762;&#x90E8;&#x7F72;</h3><p>&#x9664;&#x4E86;&#x5BF9;&#x670D;&#x52A1;&#x7684;&#x964D;&#x7EA7;&#x548C;&#x7194;&#x65AD;&#x5904;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x76D1;&#x63A7;&#x9875;&#x9762;&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x5BFC;&#x5165;&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x63A5;&#x7740;&#x6DFB;&#x52A0;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8900</span>
<span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">dashboard</span><span class="token punctuation">:</span>
    <span class="token comment"># &#x5C06;localhost&#x6DFB;&#x52A0;&#x5230;&#x767D;&#x540D;&#x5355;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x7684;</span>
    <span class="token key atrule">proxy-stream-allow-list</span><span class="token punctuation">:</span> <span class="token string">&quot;localhost&quot;</span>
</code></pre><p>&#x63A5;&#x7740;&#x521B;&#x5EFA;&#x4E3B;&#x7C7B;&#xFF0C;&#x6CE8;&#x610F;&#x9700;&#x8981;&#x6DFB;&#x52A0;<code>@EnableHystrixDashboard</code>&#x6CE8;&#x89E3;&#x5F00;&#x542F;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableHystrixDashboard</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HystrixDashBoardApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HystrixDashBoardApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x542F;&#x52A8;Hystrix&#x7BA1;&#x7406;&#x9875;&#x9762;&#x670D;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x8981;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#x7684;&#x670D;&#x52A1;&#x4E2D;&#x6DFB;&#x52A0;Actuator&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><blockquote><p>Actuator&#x662F;SpringBoot&#x7A0B;&#x5E8F;&#x7684;&#x76D1;&#x63A7;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5065;&#x5EB7;&#x68C0;&#x67E5;&#xFF0C;&#x8BB0;&#x5F55;&#x4FE1;&#x606F;&#x7B49;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5F15;&#x5165;spring-boot-starter-actuator&#xFF0C;&#x5E76;&#x505A;&#x7B80;&#x5355;&#x7684;&#x914D;&#x7F6E;&#x5373;&#x53EF;&#x3002;</p></blockquote><p>&#x6DFB;&#x52A0;&#x6B64;&#x4F9D;&#x8D56;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;IDEA&#x4E2D;&#x67E5;&#x770B;&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/61.jpg" alt="image-20220324225633805"></p><p>&#x7136;&#x540E;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;Actuator&#x6DFB;&#x52A0;&#x66B4;&#x9732;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&apos;*&apos;</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x521A;&#x521A;&#x542F;&#x52A8;&#x7684;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x5730;&#x5740;&#x4E3A;&#xFF1A;<a href="http://localhost:8900/hystrix/" target="_blank">http://localhost:8900/hystrix/</a></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/62.jpg" alt="image-20220324225733550"></p><p>&#x5728;&#x4E2D;&#x95F4;&#x586B;&#x5199;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x670D;&#x52A1;&#xFF1A;&#x6BD4;&#x5982;&#x501F;&#x9605;&#x670D;&#x52A1;&#xFF1A;<a href="http://localhost:8301/actuator/hystrix.stream&#xFF0C;&#x6CE8;&#x610F;&#x540E;&#x9762;&#x8981;&#x6DFB;&#x52A0;`/actuator/hystrix.stream`&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;Monitor" target="_blank">http://localhost:8301/actuator/hystrix.stream&#xFF0C;&#x6CE8;&#x610F;&#x540E;&#x9762;&#x8981;&#x6DFB;&#x52A0;`/actuator/hystrix.stream`&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;Monitor</a> Stream&#x5373;&#x53EF;&#x8FDB;&#x5165;&#x76D1;&#x63A7;&#x9875;&#x9762;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/63.jpg" alt="image-20220324230515009"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x73B0;&#x5728;&#x90FD;&#x662F;Loading&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x8FD8;&#x6CA1;&#x6709;&#x5F00;&#x59CB;&#x7EDF;&#x8BA1;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5C1D;&#x8BD5;&#x8C03;&#x7528;&#x51E0;&#x6B21;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/64.jpg" alt="image-20220324230559068"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5728;&#x8C03;&#x7528;&#x4E4B;&#x540E;&#xFF0C;&#x76D1;&#x63A7;&#x9875;&#x9762;&#x51FA;&#x73B0;&#x4E86;&#x4FE1;&#x606F;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/65.jpg" alt="image-20220324230703600"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;5&#x6B21;&#x8BBF;&#x95EE;&#x90FD;&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x663E;&#x793A;&#x4E3A;&#x7EFF;&#x8272;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x6765;&#x5C1D;&#x8BD5;&#x5C06;&#x56FE;&#x4E66;&#x670D;&#x52A1;&#x5173;&#x95ED;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x751A;&#x81F3;&#x7194;&#x65AD;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x591A;&#x6B21;&#x8BBF;&#x95EE;&#x6B64;&#x670D;&#x52A1;&#x770B;&#x770B;&#x76D1;&#x63A7;&#x4F1A;&#x5982;&#x4F55;&#x53D8;&#x5316;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/66.jpg" alt="image-20220324230923472"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x9519;&#x8BEF;&#x7387;&#x76F4;&#x63A5;&#x98D9;&#x5347;&#x5230;100%&#xFF0C;&#x5E76;&#x4E14;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x6301;&#x7EED;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x4E2D;&#x5FC3;&#x7684;&#x5706;&#x5708;&#x4E5F;&#x53D8;&#x6210;&#x4E86;&#x7EA2;&#x8272;&#xFF0C;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/67.jpg" alt="image-20220324231022133"></p><p>&#x5728;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4FDD;&#x6301;&#x6301;&#x7EED;&#x8BBF;&#x95EE;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6B64;&#x65F6;&#x5DF2;&#x7ECF;&#x5C06;&#x670D;&#x52A1;&#x7194;&#x65AD;&#xFF0C;<code>Circuit</code>&#x66F4;&#x6539;&#x4E3A;Open&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x4E14;&#x56FE;&#x4E2D;&#x7684;&#x5706;&#x5708;&#x4E5F;&#x53D8;&#x5F97;&#x66F4;&#x5927;&#xFF0C;&#x8868;&#x793A;&#x538B;&#x529B;&#x5728;&#x6301;&#x7EED;&#x4E0A;&#x5347;&#x3002;</p><hr><h2 id="gateway-&#x8DEF;&#x7531;&#x7F51;&#x5173;"><a name="gateway-&#x8DEF;&#x7531;&#x7F51;&#x5173;" class="plugin-anchor" href="#gateway-&#x8DEF;&#x7531;&#x7F51;&#x5173;"><i class="fa fa-link" aria-hidden="true"></i></a>Gateway &#x8DEF;&#x7531;&#x7F51;&#x5173;</h2><p>&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;<a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/" target="_blank">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/</a></p><p>&#x8BF4;&#x5230;&#x8DEF;&#x7531;&#xFF0C;&#x60F3;&#x5FC5;&#x5404;&#x4F4D;&#x4E00;&#x5B9A;&#x6700;&#x5148;&#x60F3;&#x5230;&#x7684;&#x5C31;&#x662F;&#x5BB6;&#x91CC;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5BB6;&#x91CC;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5145;&#x5F53;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x4EC0;&#x4E48;&#x89D2;&#x8272;&#x5462;&#xFF1F;</p><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x4E92;&#x8054;&#x7F51;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x5C06;&#x624B;&#x673A;&#x6216;&#x662F;&#x7535;&#x8111;&#x8FDE;&#x63A5;&#x5230;&#x5BB6;&#x91CC;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x624D;&#x53EF;&#x4EE5;&#xFF0C;&#x800C;&#x8DEF;&#x7531;&#x5668;&#x5219;&#x8FDE;&#x63A5;&#x5149;&#x732B;&#xFF0C;&#x5149;&#x732B;&#x518D;&#x901A;&#x8FC7;&#x5149;&#x7EA4;&#x8FDE;&#x63A5;&#x5230;&#x4E92;&#x8054;&#x7F51;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x65B9;&#x5411;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x8DEF;&#x7531;&#x5668;&#x624D;&#x80FD;&#x5230;&#x8FBE;&#x6211;&#x4EEC;&#x7684;&#x8BBE;&#x5907;&#x3002;&#x800C;&#x8DEF;&#x7531;&#x5668;&#x5145;&#x5F53;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x5305;&#x4E2D;&#x8F6C;&#x7AD9;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x8BBE;&#x5907;&#x90FD;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x4E0E;&#x4E92;&#x8054;&#x7F51;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x662F;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x8DEF;&#x7531;&#x5668;&#x8FDB;&#x884C;&#x4E2D;&#x8F6C;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x8BF4;&#x8DEF;&#x7531;&#x5668;&#x4E0B;&#x7684;&#x7F51;&#x7EDC;&#x662F;&#x5185;&#x7F51;&#xFF0C;&#x800C;&#x4E92;&#x8054;&#x7F51;&#x90A3;&#x4E00;&#x7AEF;&#x662F;&#x5916;&#x7F51;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/68.jpg" alt="image-20220324164439809"></p><p>&#x6211;&#x4EEC;&#x7684;&#x5C40;&#x57DF;&#x7F51;&#x8BBE;&#x5907;&#xFF0C;&#x65E0;&#x6CD5;&#x88AB;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x7684;&#x5176;&#x4ED6;&#x8BBE;&#x5907;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x5230;&#x5B89;&#x5168;&#x6027;&#x7684;&#x3002;&#x5E76;&#x4E92;&#x8054;&#x7F51;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x8DEF;&#x7531;&#x5668;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x8BC6;&#x522B;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x53D1;&#x9001;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x8BBE;&#x5907;&#x3002;</p><p>&#x800C;&#x6211;&#x4EEC;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x4E5F;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x90FD;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x66B4;&#x9732;&#x7ED9;&#x5916;&#x90E8;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8DEF;&#x7531;&#x673A;&#x5236;&#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x5C42;&#x9632;&#x62A4;&#xFF0C;&#x8BA9;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x5168;&#x90E8;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x6765;&#x8F6C;&#x53D1;&#x5230;&#x5404;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x4E14;&#x8F6C;&#x53D1;&#x7ED9;&#x591A;&#x4E2A;&#x76F8;&#x540C;&#x5FAE;&#x670D;&#x52A1;&#x5B9E;&#x4F8B;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/69.jpg" alt="image-20220325130147758"></p><p>&#x5728;&#x4E4B;&#x524D;&#xFF0C;&#x8DEF;&#x7531;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x822C;&#x4F7F;&#x7528;Zuul&#xFF0C;&#x4F46;&#x662F;&#x5DF2;&#x7ECF;&#x505C;&#x66F4;&#xFF0C;&#x800C;&#x73B0;&#x5728;&#x65B0;&#x51FA;&#x73B0;&#x4E86;&#x7531;SpringCloud&#x5B98;&#x65B9;&#x5F00;&#x53D1;&#x7684;Gateway&#x8DEF;&#x7531;&#xFF0C;&#x5B83;&#x76F8;&#x6BD4;Zuul&#x4E0D;&#x4EC5;&#x6027;&#x80FD;&#x4E0A;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x5B98;&#x65B9;&#x63A8;&#x51FA;&#xFF0C;&#x5951;&#x5408;&#x6027;&#x4E5F;&#x4F1A;&#x66F4;&#x597D;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x5C31;&#x4E3B;&#x8981;&#x8BB2;&#x89E3;Gateway&#x3002;</p><h3 id="&#x90E8;&#x7F72;&#x7F51;&#x5173;"><a name="&#x90E8;&#x7F72;&#x7F51;&#x5173;" class="plugin-anchor" href="#&#x90E8;&#x7F72;&#x7F51;&#x5173;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x90E8;&#x7F72;&#x7F51;&#x5173;</h3><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x7F51;&#x5173;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x7B2C;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#x5C31;&#x662F;&#x7F51;&#x5173;&#x7684;&#x4F9D;&#x8D56;&#xFF0C;&#x800C;&#x7B2C;&#x4E8C;&#x4E2A;&#x5219;&#x8DDF;&#x5176;&#x4ED6;&#x5FAE;&#x670D;&#x52A1;&#x4E00;&#x6837;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x5230;Eureka&#x624D;&#x80FD;&#x751F;&#x6548;&#xFF0C;&#x6CE8;&#x610F;&#x522B;&#x6DFB;&#x52A0;Web&#x4F9D;&#x8D56;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;WebFlux&#x6846;&#x67B6;&#x3002;</p><p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x6765;&#x5B8C;&#x5584;&#x4E00;&#x4E0B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8801/eureka<span class="token punctuation">,</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8802/eureka
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> gateway
</code></pre><p>&#x73B0;&#x5728;&#x5C31;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/70.jpg" alt="image-20220324170951878"></p><p>&#x4F46;&#x662F;&#x73B0;&#x5728;&#x8FD8;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x4EFB;&#x4F55;&#x7684;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x5C06;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x914D;&#x7F6E;&#x8DEF;&#x7531;&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x662F;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x6BCF;&#x4E00;&#x9879;&#x90FD;&#x5305;&#x542B;&#x4E86;&#x5F88;&#x591A;&#x4FE1;&#x606F;</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> borrow<span class="token punctuation">-</span>service   <span class="token comment"># &#x8DEF;&#x7531;&#x540D;&#x79F0;</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//borrowservice  <span class="token comment"># &#x8DEF;&#x7531;&#x7684;&#x5730;&#x5740;&#xFF0C;lb&#x8868;&#x793A;&#x4F7F;&#x7528;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5230;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;http&#x6B63;&#x5E38;&#x8F6C;&#x53D1;</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span> <span class="token comment"># &#x8DEF;&#x7531;&#x89C4;&#x5219;&#xFF0C;&#x65AD;&#x8A00;&#x4EC0;&#x4E48;&#x8BF7;&#x6C42;&#x4F1A;&#x88AB;&#x8DEF;&#x7531;</span>
            <span class="token punctuation">-</span> Path=/borrow/<span class="token important">**</span>  <span class="token comment"># &#x53EA;&#x8981;&#x662F;&#x8BBF;&#x95EE;&#x7684;&#x8FD9;&#x4E2A;&#x8DEF;&#x5F84;&#xFF0C;&#x4E00;&#x5F8B;&#x90FD;&#x88AB;&#x8DEF;&#x7531;&#x5230;&#x4E0A;&#x9762;&#x6307;&#x5B9A;&#x7684;&#x670D;&#x52A1;</span>
</code></pre><p>&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x7684;&#x8BE6;&#x7EC6;&#x5217;&#x8868;&#xFF08;&#x65AD;&#x8A00;&#x5DE5;&#x5382;&#x5217;&#x8868;&#xFF09;&#x5728;&#x8FD9;&#x91CC;&#xFF1A;<a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-request-predicates-factories&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x5305;&#x62EC;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x6BB5;&#x3001;Cookie&#x643A;&#x5E26;&#x60C5;&#x51B5;&#x3001;Header&#x643A;&#x5E26;&#x60C5;&#x51B5;&#x3001;&#x8BBF;&#x95EE;&#x7684;&#x57DF;&#x540D;&#x5730;&#x5740;&#x3001;&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x6CD5;&#x3001;&#x8DEF;&#x5F84;&#x3001;&#x53C2;&#x6570;&#x3001;&#x8BBF;&#x95EE;&#x8005;IP&#x7B49;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x7C7B;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x63A8;&#x8350;&#x76F4;&#x63A5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7701;&#x4E8B;&#x3002;" target="_blank">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-request-predicates-factories&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x5305;&#x62EC;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x6BB5;&#x3001;Cookie&#x643A;&#x5E26;&#x60C5;&#x51B5;&#x3001;Header&#x643A;&#x5E26;&#x60C5;&#x51B5;&#x3001;&#x8BBF;&#x95EE;&#x7684;&#x57DF;&#x540D;&#x5730;&#x5740;&#x3001;&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x6CD5;&#x3001;&#x8DEF;&#x5F84;&#x3001;&#x53C2;&#x6570;&#x3001;&#x8BBF;&#x95EE;&#x8005;IP&#x7B49;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x7C7B;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x63A8;&#x8350;&#x76F4;&#x63A5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7701;&#x4E8B;&#x3002;</a></p><p>&#x63A5;&#x7740;&#x542F;&#x52A8;&#x7F51;&#x5173;&#xFF0C;&#x642D;&#x8F7D;Arm&#x67B6;&#x6784;&#x82AF;&#x7247;&#x7684;Mac&#x7535;&#x8111;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/71.jpg" alt="image-20220325150924472"></p><p>&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x9002;&#x7528;&#x4E8E;&#x6B64;&#x67B6;&#x6784;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x4F7F;&#x7528;&#xFF0C;&#x65E0;&#x89C6;&#x5373;&#x53EF;&#xFF0C;&#x5E0C;&#x671B;&#x4EE5;&#x540E;&#x7684;&#x7248;&#x672C;&#x80FD;&#x4FEE;&#x590D;&#x5427;&#x3002;</p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x6765;&#x8BBF;&#x95EE;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x4E86;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/72.jpg" alt="image-20220324171724493"></p><p>&#x6CE8;&#x610F;&#x6B64;&#x65F6;&#x4F9D;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x539F;&#x6709;&#x7684;&#x670D;&#x52A1;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/73.jpg" alt="image-20220324171909828"></p><p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x9700;&#x8981;&#x5916;&#x7F51;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5168;&#x90E8;&#x653E;&#x5230;&#x5185;&#x7F51;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x800C;&#x53EA;&#x4F9D;&#x9760;&#x7F51;&#x5173;&#x6765;&#x5BF9;&#x5916;&#x8FDB;&#x884C;&#x4EA4;&#x6D89;&#x3002;</p><h3 id="&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;"><a name="&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;" class="plugin-anchor" href="#&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;</h3><p>&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x652F;&#x6301;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x4FEE;&#x6539;&#x4F20;&#x5165;&#x7684; HTTP &#x8BF7;&#x6C42;&#x6216;&#x4F20;&#x51FA;&#x7684; HTTP &#x54CD;&#x5E94;&#xFF0C;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x8303;&#x56F4;&#x662F;&#x67D0;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#xFF0C;&#x8DDF;&#x4E4B;&#x524D;&#x7684;&#x65AD;&#x8A00;&#x4E00;&#x6837;&#xFF0C;Spring Cloud Gateway &#x4E5F;&#x5305;&#x542B;&#x8BB8;&#x591A;&#x5185;&#x7F6E;&#x7684;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x5DE5;&#x5382;&#xFF0C;&#x8BE6;&#x7EC6;&#x5217;&#x8868;&#xFF1A;<a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gatewayfilter-factories" target="_blank">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gatewayfilter-factories</a></p><p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5E0C;&#x671B;&#x5728;&#x8BF7;&#x6C42;&#x5230;&#x8FBE;&#x65F6;&#xFF0C;&#x5728;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x518D;&#x8F6C;&#x53D1;&#x7ED9;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5BF9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> gateway
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> borrow<span class="token punctuation">-</span>service
        <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//borrowservice
        <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Path=/borrow/<span class="token important">**</span>
      <span class="token comment"># &#x7EE7;&#x7EED;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4EE5;&#x4E66;&#x7C4D;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4E3A;&#x4F8B;</span>
      <span class="token comment"># &#x6CE8;&#x610F;-&#x8981;&#x5BF9;&#x9F50;routes:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> book<span class="token punctuation">-</span>service
        <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//bookservice
        <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Path=/book/<span class="token important">**</span>
        <span class="token key atrule">filters</span><span class="token punctuation">:</span>   <span class="token comment"># &#x6DFB;&#x52A0;&#x8FC7;&#x6EE4;&#x5668;</span>
        <span class="token punctuation">-</span> AddRequestHeader=Test<span class="token punctuation">,</span> HelloWorld<span class="token tag">!</span>
        <span class="token comment"># AddRequestHeader &#x5C31;&#x662F;&#x6DFB;&#x52A0;&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4ED6;&#x5DE5;&#x5382;&#x8BF7;&#x67E5;&#x9605;&#x5B98;&#x7F51;</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5728;BookController&#x4E2D;&#x83B7;&#x53D6;&#x5E76;&#x8F93;&#x51FA;&#x4E00;&#x4E0B;&#xFF0C;&#x770B;&#x770B;&#x662F;&#x4E0D;&#x662F;&#x6210;&#x529F;&#x6DFB;&#x52A0;&#x4E86;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BookService</span> service<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/book/{bid}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Book</span> <span class="token function">findBookById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;bid&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> bid<span class="token punctuation">,</span>
                      <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> service<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>bid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x901A;&#x8FC7;Gateway&#x8BBF;&#x95EE;&#x6211;&#x4EEC;&#x7684;&#x56FE;&#x4E66;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/74.jpg" alt="image-20220325150730814"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/75.jpg" alt="image-20220325151220776"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x6210;&#x529F;&#x83B7;&#x53D6;&#x5230;&#x7531;&#x7F51;&#x5173;&#x6DFB;&#x52A0;&#x7684;&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;&#x4E86;&#x3002;</p><p>&#x9664;&#x4E86;&#x9488;&#x5BF9;&#x4E8E;&#x67D0;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x8FC7;&#x6EE4;&#x5668;&#x4E4B;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x4F5C;&#x7528;&#x4E8E;&#x5168;&#x5C40;&#x3002;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x7F16;&#x5199;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8981;&#x5B9E;&#x73B0;&#x62E6;&#x622A;&#x6CA1;&#x6709;&#x643A;&#x5E26;&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x7684;&#x8BF7;&#x6C42;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Component</span>   <span class="token comment">//&#x9700;&#x8981;&#x6CE8;&#x518C;&#x4E3A;Bean</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestFilter</span> <span class="token keyword">implements</span> <span class="token class-name">GlobalFilter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">,</span> <span class="token class-name">GatewayFilterChain</span> chain<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x7F16;&#x5199;&#x5224;&#x65AD;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">,</span> <span class="token class-name">GatewayFilterChain</span> chain<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//&#x5148;&#x83B7;&#x53D6;ServerHttpRequest&#x5BF9;&#x8C61;&#xFF0C;&#x6CE8;&#x610F;&#x4E0D;&#x662F;HttpServletRequest</span>
    <span class="token class-name">ServerHttpRequest</span> request <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x6253;&#x5370;&#x4E00;&#x4E0B;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x53C2;&#x6570;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&#x5224;&#x65AD;&#x662F;&#x5426;&#x5305;&#x542B;test&#x53C2;&#x6570;&#xFF0C;&#x4E14;&#x53C2;&#x6570;&#x503C;&#x4E3A;1</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> value <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//&#x5C06;ServerWebExchange&#x5411;&#x8FC7;&#x6EE4;&#x94FE;&#x7684;&#x4E0B;&#x4E00;&#x7EA7;&#x4F20;&#x9012;&#xFF08;&#x8DDF;JavaWeb&#x4E2D;&#x4ECB;&#x7ECD;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x5176;&#x5B9E;&#x662F;&#x5DEE;&#x4E0D;&#x591A;&#x7684;&#xFF09;</span>
        <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//&#x76F4;&#x63A5;&#x5728;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x5411;&#x4E0B;&#x4F20;&#x9012;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;</span>
        <span class="token keyword">return</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7ED3;&#x679C;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/76.jpg" alt="image-20220325154443063"></p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/77.jpg" alt="image-20220325154508853"></p><p>&#x6210;&#x529F;&#x5B9E;&#x73B0;&#x89C4;&#x5219;&#x5224;&#x65AD;&#x548C;&#x62E6;&#x622A;&#x64CD;&#x4F5C;&#x3002;</p><p>&#x5F53;&#x7136;&#xFF0C;&#x8FC7;&#x6EE4;&#x5668;&#x80AF;&#x5B9A;&#x662F;&#x53EF;&#x4EE5;&#x5B58;&#x5728;&#x5F88;&#x591A;&#x4E2A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x624B;&#x52A8;&#x6307;&#x5B9A;&#x8FC7;&#x6EE4;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x987A;&#x5E8F;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestFilter</span> <span class="token keyword">implements</span> <span class="token class-name">GlobalFilter</span><span class="token punctuation">,</span> <span class="token class-name">Ordered</span> <span class="token punctuation">{</span>   <span class="token comment">//&#x5B9E;&#x73B0;Ordered&#x63A5;&#x53E3;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><p>&#x6CE8;&#x610F;Order&#x7684;&#x503C;&#x8D8A;&#x5C0F;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;&#xFF0C;&#x5E76;&#x4E14;&#x65E0;&#x8BBA;&#x662F;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x5199;&#x7684;&#x5355;&#x4E2A;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x8FD8;&#x662F;&#x5168;&#x5C40;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x90FD;&#x4F1A;&#x53D7;&#x5230;Order&#x503C;&#x5F71;&#x54CD;&#xFF08;&#x5355;&#x4E2A;&#x8DEF;&#x7531;&#x7684;&#x8FC7;&#x6EE4;&#x5668;Order&#x503C;&#x6309;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x7684;&#x987A;&#x5E8F;&#x4ECE;1&#x5F00;&#x59CB;&#x9012;&#x589E;&#xFF09;&#xFF0C;&#x6700;&#x7EC8;&#x662F;&#x6309;&#x7167;Order&#x503C;&#x51B3;&#x5B9A;&#x54EA;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#x4F18;&#x5148;&#x6267;&#x884C;&#xFF0C;&#x5F53;Order&#x503C;&#x4E00;&#x6837;&#x65F6; &#x5168;&#x5C40;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x6267;&#x884C; <code>&#x4F18;&#x4E8E;</code> &#x5355;&#x72EC;&#x7684;&#x8DEF;&#x7531;&#x8FC7;&#x6EE4;&#x5668;&#x6267;&#x884C;&#x3002;</p><hr><h2 id="config-&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;"><a name="config-&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;" class="plugin-anchor" href="#config-&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;"><i class="fa fa-link" aria-hidden="true"></i></a>Config &#x914D;&#x7F6E;&#x4E2D;&#x5FC3;</h2><p><strong>&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;</strong><a href="https://docs.spring.io/spring-cloud-config/docs/current/reference/html/" target="_blank">https://docs.spring.io/spring-cloud-config/docs/current/reference/html/</a></p><p>&#x7ECF;&#x8FC7;&#x524D;&#x9762;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7684;&#x6280;&#x672F;&#x9009;&#x578B;&#x548C;&#x642D;&#x5EFA;&#x5DF2;&#x7ECF;&#x4E86;&#x89E3;&#x5F97;&#x6BD4;&#x8F83;&#x591A;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5404;&#x4F4D;&#x6709;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x9879;&#x76EE;&#x9700;&#x8981;&#x90E8;&#x7F72;&#x5F88;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x90A3;&#x4E48;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6211;&#x4EEC;&#x5C82;&#x4E0D;&#x662F;&#x5F97;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x53BB;&#x6539;&#xFF0C;&#x53EF;&#x80FD;&#x5341;&#x51E0;&#x4E2A;&#x5B9E;&#x4F8B;&#x8FD8;&#x597D;&#xFF0C;&#x8981;&#x662F;&#x6709;&#x51E0;&#x5341;&#x4E2A;&#x4E0A;&#x767E;&#x4E2A;&#x5462;&#xFF1F;&#x90A3;&#x6211;&#x4EEC;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x53BB;&#x914D;&#x7F6E;&#xFF0C;&#x5C82;&#x4E0D;&#x76F4;&#x63A5;&#x731D;&#x6B7B;&#x5728;&#x5DE5;&#x4F4D;&#x4E0A;&#x3002;</p><p>&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x79CD;&#x66F4;&#x52A0;&#x9AD8;&#x7EA7;&#x7684;&#x96C6;&#x4E2D;&#x5316;&#x5730;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x96C6;&#x4E2D;&#x5730;&#x5BF9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</p><blockquote><p>Spring Cloud Config &#x4E3A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5916;&#x90E8;&#x914D;&#x7F6E;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x652F;&#x6301;&#x3002;&#x4F7F;&#x7528; Config Server&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;&#x6240;&#x6709;&#x73AF;&#x5883;&#x4E2D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5916;&#x90E8;&#x914D;&#x7F6E;&#x3002;</p></blockquote><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/78.jpg" alt="image-20220325171754862"></p><p>&#x5B9E;&#x9645;&#x4E0A;Spring Cloud Config&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x90FD;&#x53EF;&#x4EE5;&#x4ECE;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x53D6;&#x51FA;&#x914D;&#x7F6E;&#xFF0C;&#x800C;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x53C8;&#x53EF;&#x4EE5;&#x4ECE;GitHub&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E2D;&#x83B7;&#x53D6;&#x4E91;&#x7AEF;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;GitHub&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x5373;&#x53EF;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x4E86;&#x3002;</p><h3 id="&#x90E8;&#x7F72;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;"><a name="&#x90E8;&#x7F72;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;" class="plugin-anchor" href="#&#x90E8;&#x7F72;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x90E8;&#x7F72;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;</h3><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x5E76;&#x5BFC;&#x5165;&#x4F9D;&#x8D56;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>&#x8001;&#x89C4;&#x77E9;&#xFF0C;&#x542F;&#x52A8;&#x7C7B;&#xFF1A;</p><pre class="language-"><code class="lang-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableConfigServer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>&#x63A5;&#x7740;&#x5C31;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8700</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> configserver
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8801/eureka<span class="token punctuation">,</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8802/eureka
</code></pre><p>&#x5148;&#x542F;&#x52A8;&#x4E00;&#x6B21;&#x770B;&#x770B;&#xFF0C;&#x80FD;&#x4E0D;&#x80FD;&#x6210;&#x529F;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/79.jpg" alt="image-20220325173932623"></p><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4EE5;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x4E3A;&#x4F8B;&#xFF08;&#x5C31;&#x4E0D;&#x7528;GitHub&#x4E86;&#xFF0C;&#x5361;&#x5230;&#x6000;&#x7591;&#x4EBA;&#x751F;&#x4E86;&#xFF09;&#xFF0C;&#x9996;&#x5148;&#x5728;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x672C;&#x5730;Git&#x4ED3;&#x5E93;&#xFF0C;&#x6253;&#x5F00;&#x7EC8;&#x7AEF;&#xFF0C;&#x5728;&#x684C;&#x9762;&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/80.jpg" alt="image-20220325220843990"></p><p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x968F;&#x4FBF;&#x521B;&#x5EFA;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6CE8;&#x610F;&#x540D;&#x79F0;&#x6700;&#x597D;&#x662F;{&#x670D;&#x52A1;&#x540D;&#x79F0;}-{&#x73AF;&#x5883;}.yml&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/81.jpg" alt="image-20220325221411834"></p><p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7684;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#xFF08;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x540C;&#x7406;&#xFF09;&#xFF0C;&#x8BE6;&#x7EC6;&#x4F7F;&#x7528;&#x6559;&#x7A0B;&#xFF1A;<a href="https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#_git_backend" target="_blank">https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#_git_backend</a></p><pre class="language-"><code class="lang-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token key atrule">git</span><span class="token punctuation">:</span>
            <span class="token comment"># &#x8FD9;&#x91CC;&#x586B;&#x5199;&#x7684;&#x662F;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#xFF0C;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x76F4;&#x63A5;&#x586B;&#x5199;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5730;&#x5740; http://git...</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> file<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>user.home<span class="token punctuation">}</span>/Desktop/config<span class="token punctuation">-</span>repo
          <span class="token comment"># &#x9ED8;&#x8BA4;&#x5206;&#x652F;&#x8BBE;&#x5B9A;&#x4E3A;&#x4F60;&#x81EA;&#x5DF1;&#x672C;&#x5730;&#x6216;&#x662F;&#x8FDC;&#x7A0B;&#x5206;&#x652F;&#x7684;&#x540D;&#x79F0;</span>
          <span class="token key atrule">default-label</span><span class="token punctuation">:</span> main
</code></pre><p>&#x7136;&#x540E;&#x542F;&#x52A8;&#x6211;&#x4EEC;&#x7684;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF1A;</p><ul><li><a href="http://localhost:8700/{&#x670D;&#x52A1;&#x540D;&#x79F0;}/{&#x73AF;&#x5883;}/{Git&#x5206;&#x652F;}" target="_blank">http://localhost:8700/{&#x670D;&#x52A1;&#x540D;&#x79F0;}/{&#x73AF;&#x5883;}/{Git&#x5206;&#x652F;}</a></li><li><a href="http://localhost:8700/{Git&#x5206;&#x652F;}/{&#x670D;&#x52A1;&#x540D;&#x79F0;}-{&#x73AF;&#x5883;}.yml" target="_blank">http://localhost:8700/{Git&#x5206;&#x652F;}/{&#x670D;&#x52A1;&#x540D;&#x79F0;}-{&#x73AF;&#x5883;}.yml</a></li></ul><p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8981;&#x8BBF;&#x95EE;&#x56FE;&#x4E66;&#x670D;&#x52A1;&#x7684;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <a href="http://localhost:8700/bookservice/prod/main" target="_blank">http://localhost:8700/bookservice/prod/main</a> &#x94FE;&#x63A5;&#xFF0C;&#x5B83;&#x4F1A;&#x663E;&#x793A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/82.jpg" alt="image-20220325221946363"></p><p>&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <a href="http://localhost:8700/main/bookservice-prod.yml" target="_blank">http://localhost:8700/main/bookservice-prod.yml</a> &#x94FE;&#x63A5;&#xFF0C;&#x5B83;&#x4EC5;&#x663E;&#x793A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x539F;&#x6587;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/83.jpg" alt="image-20220325222309095"></p><p>&#x5F53;&#x7136;&#xFF0C;&#x9664;&#x4E86;&#x4F7F;&#x7528;Git&#x6765;&#x4FDD;&#x5B58;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8BE6;&#x7EC6;&#x60C5;&#x51B5;&#x8BF7;&#x67E5;&#x9605;&#x5B98;&#x7F51;&#x3002;</p><h3 id="&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;"><a name="&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;" class="plugin-anchor" href="#&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;</h3><p>&#x670D;&#x52A1;&#x7AEF;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x6765;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x90A3;&#x4E48;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x65E2;&#x7136;&#x9700;&#x8981;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x5220;&#x9664;&#x539F;&#x6765;&#x7684;<code>application.yml</code>&#x6587;&#x4EF6;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x4FDD;&#x7559;&#xFF0C;&#x6700;&#x540E;&#x65E0;&#x8BBA;&#x662F;&#x8FDC;&#x7AEF;&#x914D;&#x7F6E;&#x8FD8;&#x662F;&#x672C;&#x5730;&#x914D;&#x7F6E;&#x90FD;&#x4F1A;&#x88AB;&#x52A0;&#x8F7D;&#xFF09;&#xFF0C;&#x6539;&#x7528;<code>bootstrap.yml</code>&#xFF08;&#x5728;application.yml&#x4E4B;&#x524D;&#x52A0;&#x8F7D;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDC;&#x7A0B;&#x83B7;&#x53D6;&#xFF09;&#xFF1A;</p><pre class="language-"><code class="lang-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><pre class="language-"><code class="lang-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token comment"># &#x540D;&#x79F0;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x6587;&#x4EF6;&#x540D;&#x79F0;</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> bookservice
      <span class="token comment"># &#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8700</span>
      <span class="token comment"># &#x73AF;&#x5883;</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> prod
      <span class="token comment"># &#x5206;&#x652F;</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> main
</code></pre><p>&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x542F;&#x52A8;&#x56FE;&#x4E66;&#x670D;&#x52A1;&#xFF1A;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/84.jpg" alt="image-20220325224708591"></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5DF2;&#x7ECF;&#x4ECE;&#x8FDC;&#x7AEF;&#x83B7;&#x53D6;&#x5230;&#x4E86;&#x914D;&#x7F6E;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x542F;&#x52A8;&#x3002;</p><hr><h2 id="&#x5FAE;&#x670D;&#x52A1;cap&#x539F;&#x5219;"><a name="&#x5FAE;&#x670D;&#x52A1;cap&#x539F;&#x5219;" class="plugin-anchor" href="#&#x5FAE;&#x670D;&#x52A1;cap&#x539F;&#x5219;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5FAE;&#x670D;&#x52A1;CAP&#x539F;&#x5219;</h2><p>&#x7ECF;&#x8FC7;&#x524D;&#x9762;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;SpringCloud Netflix&#x4EE5;&#x53CA;SpringCloud&#x5B98;&#x65B9;&#x6574;&#x4E2A;&#x751F;&#x6001;&#x4E0B;&#x7684;&#x7EC4;&#x4EF6;&#x8BA4;&#x8BC6;&#x4E5F;&#x5DEE;&#x4E0D;&#x591A;&#x4E86;&#xFF0C;&#x5165;&#x95E8;&#x6559;&#x5B66;&#x5C31;&#x5230;&#x6B64;&#x4E3A;&#x6B62;&#xFF0C;&#x4E0B;&#x4E00;&#x7AE0;&#x5C06;&#x5F00;&#x542F;&#x771F;&#x6B63;&#x7CBE;&#x5F69;&#x7684;&#x6B63;&#x7247;&#x90E8;&#x5206;&#xFF0C;&#x672C;&#x7AE0;&#x7684;&#x6700;&#x540E;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E9B;&#x7406;&#x8BBA;&#x4E0A;&#x7684;&#x77E5;&#x8BC6;&#x3002;</p><p><img src="https://tencent.cos.mobaijun.com/img/gitbook/java/SpringCloud/SpringCloud&#xFF08;&#x4E00;&#xFF09;/85.jpg" alt="image-20220325230915356"></p><blockquote><p>CAP&#x539F;&#x5219;&#x53C8;&#x79F0;CAP&#x5B9A;&#x7406;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5B58;&#x5728;Consistency&#xFF08;&#x4E00;&#x81F4;&#x6027;&#xFF09;&#x3001;Availability&#xFF08;&#x53EF;&#x7528;&#x6027;&#xFF09;&#x3001;Partition tolerance&#xFF08;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF09;&#xFF0C;&#x4E09;&#x8005;&#x4E0D;&#x53EF;&#x540C;&#x65F6;&#x4FDD;&#x8BC1;&#xFF0C;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x4FDD;&#x8BC1;&#x5176;&#x4E2D;&#x7684;&#x4E24;&#x8005;&#x3002;</p><p>&#x4E00;&#x81F4;&#x6027;&#xFF08;C&#xFF09;&#xFF1A;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x90FD;&#x662F;&#x540C;&#x6837;&#x7684;&#x503C;&#xFF08;&#x6240;&#x6709;&#x7684;&#x8282;&#x70B9;&#x65E0;&#x8BBA;&#x4F55;&#x65F6;&#x8BBF;&#x95EE;&#x90FD;&#x80FD;&#x62FF;&#x5230;&#x6700;&#x65B0;&#x7684;&#x503C;&#xFF09;</p><p>&#x53EF;&#x7528;&#x6027;&#xFF08;A&#xFF09;&#xFF1A;&#x7CFB;&#x7EDF;&#x4E2D;&#x975E;&#x6545;&#x969C;&#x8282;&#x70B9;&#x6536;&#x5230;&#x7684;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x90FD;&#x5FC5;&#x987B;&#x5F97;&#x5230;&#x54CD;&#x5E94;&#xFF08;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x4F7F;&#x7528;&#x7684;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x548C;&#x7194;&#x65AD;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x7EF4;&#x6301;&#x53EF;&#x7528;&#x6027;&#x7684;&#x63AA;&#x65BD;&#xFF0C;&#x867D;&#x7136;&#x670D;&#x52A1;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x610F;&#x4E49;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x81F3;&#x4E8E;&#x7528;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x4F1A;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x5FFD;&#x7565;&#xFF09;</p><p>&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF08;P&#xFF09;&#xFF1A;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x91CC;&#x9762;&#xFF0C;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x7EC4;&#x6210;&#x7684;&#x7F51;&#x7EDC;&#x672C;&#x6765;&#x5E94;&#x8BE5;&#x662F;&#x8FDE;&#x901A;&#x7684;&#xFF0C;&#x7136;&#x800C;&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x4E00;&#x4E9B;&#x6545;&#x969C;&#xFF08;&#x6BD4;&#x5982;&#x7F51;&#x7EDC;&#x4E22;&#x5305;&#x7B49;&#xFF0C;&#x8FD9;&#x662F;&#x5F88;&#x96BE;&#x907F;&#x514D;&#x7684;&#xFF09;&#xFF0C;&#x4F7F;&#x5F97;&#x6709;&#x4E9B;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x4E0D;&#x8FDE;&#x901A;&#x4E86;&#xFF0C;&#x6574;&#x4E2A;&#x7F51;&#x7EDC;&#x5C31;&#x5206;&#x6210;&#x4E86;&#x51E0;&#x5757;&#x533A;&#x57DF;&#xFF0C;&#x6570;&#x636E;&#x5C31;&#x6563;&#x5E03;&#x5728;&#x4E86;&#x8FD9;&#x4E9B;&#x4E0D;&#x8FDE;&#x901A;&#x7684;&#x533A;&#x57DF;&#x4E2D;&#xFF08;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x67D0;&#x4E9B;&#x88AB;&#x5206;&#x533A;&#x8282;&#x70B9;&#x5B58;&#x653E;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x5931;&#x8D25;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6765;&#x5BB9;&#x5FCD;&#x8FD9;&#x4E9B;&#x4E0D;&#x53EF;&#x9760;&#x7684;&#x60C5;&#x51B5;&#xFF09;</p></blockquote><p>&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x6570;&#x636E;&#x5B58;&#x653E;&#x7684;&#x8282;&#x70B9;&#x6570;&#x8D8A;&#x591A;&#xFF0C;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#x5C31;&#x8D8A;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x590D;&#x5236;&#x66F4;&#x65B0;&#x7684;&#x6B21;&#x6570;&#x5C31;&#x8D8A;&#x591A;&#xFF0C;&#x4E00;&#x81F4;&#x6027;&#x5C31;&#x8D8A;&#x96BE;&#x4FDD;&#x8BC1;&#x3002;&#x540C;&#x65F6;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x66F4;&#x65B0;&#x6240;&#x6709;&#x8282;&#x70B9;&#x6570;&#x636E;&#x6240;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x5C31;&#x8D8A;&#x957F;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x7528;&#x6027;&#x5C31;&#x4F1A;&#x964D;&#x4F4E;&#x3002;</p><p>&#x6240;&#x4EE5;&#x8BF4;&#xFF0C;&#x53EA;&#x80FD;&#x5B58;&#x5728;&#x4EE5;&#x4E0B;&#x4E09;&#x79CD;&#x65B9;&#x6848;&#xFF1A;</p><h3 id="ac-&#x53EF;&#x7528;&#x6027;&#x4E00;&#x81F4;&#x6027;"><a name="ac-&#x53EF;&#x7528;&#x6027;&#x4E00;&#x81F4;&#x6027;" class="plugin-anchor" href="#ac-&#x53EF;&#x7528;&#x6027;&#x4E00;&#x81F4;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>AC &#x53EF;&#x7528;&#x6027;+&#x4E00;&#x81F4;&#x6027;</h3><p>&#x8981;&#x540C;&#x65F6;&#x4FDD;&#x8BC1;&#x53EF;&#x7528;&#x6027;&#x548C;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x4EE3;&#x8868;&#x7740;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x4E4B;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x7ACB;&#x5373;&#x5C06;&#x7ED3;&#x679C;&#x901A;&#x77E5;&#x7ED9;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#xFF0C;&#x5E76;&#x4E14;&#x8981;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x5FEB;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x53CA;&#x65F6;&#x54CD;&#x5E94;&#x4FDD;&#x8BC1;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x8FD9;&#x5C31;&#x5BF9;&#x7F51;&#x7EDC;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x8981;&#x6C42;&#x975E;&#x5E38;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7F51;&#x7EDC;&#x5F88;&#x5BB9;&#x6613;&#x51FA;&#x73B0;&#x4E22;&#x5305;&#x7B49;&#x60C5;&#x51B5;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x9760;&#x7684;&#x4F20;&#x8F93;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x907F;&#x514D;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x5C06;&#x8282;&#x70B9;&#x5168;&#x90E8;&#x653E;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x663E;&#x7136;&#x8FDD;&#x80CC;&#x4E86;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x5F88;&#x96BE;&#x63A5;&#x53D7;&#x3002;</p><h3 id="cp-&#x4E00;&#x81F4;&#x6027;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;"><a name="cp-&#x4E00;&#x81F4;&#x6027;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;" class="plugin-anchor" href="#cp-&#x4E00;&#x81F4;&#x6027;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>CP &#x4E00;&#x81F4;&#x6027;+&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;</h3><p>&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5F97;&#x5C06;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x6700;&#x65B0;&#x6570;&#x636E;&#x53D1;&#x9001;&#x7ED9;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x7B49;&#x5230;&#x6240;&#x6709;&#x8282;&#x70B9;&#x90FD;&#x5F97;&#x5230;&#x6570;&#x636E;&#x624D;&#x80FD;&#x8FDB;&#x884C;&#x54CD;&#x5E94;&#xFF0C;&#x540C;&#x65F6;&#x6709;&#x4E86;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x4EE3;&#x8868;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BB9;&#x5FCD;&#x7F51;&#x7EDC;&#x7684;&#x4E0D;&#x53EF;&#x9760;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x7B97;&#x7F51;&#x7EDC;&#x51FA;&#x73B0;&#x5361;&#x987F;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x8282;&#x70B9;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x540C;&#x6B65;&#xFF0C;&#x624D;&#x80FD;&#x8FDB;&#x884C;&#x54CD;&#x5E94;&#xFF0C;&#x56E0;&#x6B64;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5728;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x5B8C;&#x5168;&#x5931;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x7528;&#x6027;&#x662F;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x4FDD;&#x8BC1;&#x7684;&#x3002;</p><h3 id="ap-&#x53EF;&#x7528;&#x6027;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;"><a name="ap-&#x53EF;&#x7528;&#x6027;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;" class="plugin-anchor" href="#ap-&#x53EF;&#x7528;&#x6027;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>AP &#x53EF;&#x7528;&#x6027;+&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;</h3><p>&#x65E2;&#x7136;CP&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x670D;&#x52A1;&#x5F97;&#x4E0D;&#x5230;&#x4EFB;&#x4F55;&#x54CD;&#x5E94;&#xFF0C;&#x90A3;&#x4E48;&#x8981;&#x4FDD;&#x8BC1;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x5C31;&#x53EA;&#x80FD;&#x653E;&#x5F03;&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x7684;&#x9AD8;&#x5EA6;&#x7EDF;&#x4E00;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x53EF;&#x4EE5;&#x5728;&#x6570;&#x636E;&#x4E0D;&#x7EDF;&#x4E00;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FDB;&#x884C;&#x54CD;&#x5E94;&#xFF0C;&#x56E0;&#x6B64;&#x5C31;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x4E00;&#x81F4;&#x6027;&#x4E86;&#x3002;&#x867D;&#x7136;&#x8FD9;&#x6837;&#x4F1A;&#x5BFC;&#x81F4;&#x62FF;&#x4E0D;&#x5230;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x8981;&#x6570;&#x636E;&#x540C;&#x6B65;&#x64CD;&#x4F5C;&#x5728;&#x540E;&#x53F0;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x4E00;&#x5B9A;&#x80FD;&#x591F;&#x5728;&#x67D0;&#x4E00;&#x65F6;&#x523B;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x8282;&#x70B9;&#x6570;&#x636E;&#x7684;&#x540C;&#x6B65;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;<strong>&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;</strong>&#xFF0C;&#x6240;&#x4EE5;AP&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6700;&#x80FD;&#x63A5;&#x53D7;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6848;&#x3002;</p><p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x7684;Eureka&#x96C6;&#x7FA4;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x5C31;&#x662F;AP&#x65B9;&#x6848;&#xFF0C;Eureka&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x662F;&#x5E73;&#x7B49;&#x7684;&#xFF0C;&#x5C11;&#x6570;&#x8282;&#x70B9;&#x6302;&#x6389;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x6B63;&#x5E38;&#x8282;&#x70B9;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x5269;&#x4F59;&#x7684;&#x8282;&#x70B9;&#x4F9D;&#x7136;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x6CE8;&#x518C;&#x548C;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x3002;&#x800C;Eureka&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x5411;&#x67D0;&#x4E2A;Eureka&#x670D;&#x52A1;&#x7AEF;&#x6CE8;&#x518C;&#x65F6;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x8FDE;&#x63A5;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x4F1A;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x81F3;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x3002;&#x53EA;&#x8981;&#x6709;&#x4E00;&#x53F0;Eureka&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x80FD;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x53EF;&#x7528;<strong>&#xFF08;A&#xFF09;</strong>&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;<strong>&#xFF08;C&#xFF09;</strong></p><p>&#x5728;&#x4E4B;&#x540E;&#x7684;&#x7AE0;&#x8282;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x4F1A;&#x7EE7;&#x7EED;&#x4E86;&#x89E3;&#x8FD9;&#x4E9B;&#x7406;&#x8BBA;&#x7684;&#x5176;&#x4ED6;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x3002;</p><p></p><div id="gitalk-container"></div><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script>window.onload = function() {gitbook.events.on("page.change", function() {var gitalk = new Gitalk({"clientID":"f0da19fb826f620b26d6","clientSecret":"666fa5dabfb7913cf38b23fd348cf75d6f673820","repo":".docs","owner":"april-projects","admin":["mobaijun"],"id":"/Java/SpringCloud/SpringCloud（一）.html"});gitalk.render("gitalk-container");});};var gitalk = new Gitalk({"clientID":"f0da19fb826f620b26d6","clientSecret":"666fa5dabfb7913cf38b23fd348cf75d6f673820","repo":".docs","owner":"april-projects","admin":["mobaijun"],"id":"/Java/SpringCloud/SpringCloud（一）.html"});gitalk.render("gitalk-container");</script><p></p><footer class="page-footer"><span class="copyright">Copyright &#xA9; &#x7248;&#x6743;&#x4FE1;&#x606F; all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A; 2023-04-22 15:52:22</span></footer><script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> results matching "<span class="search-query"></span>"</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">No results matching "<span class="search-query"></span>"</h1></div></div></div></div></div></div><a href="./" class="navigation navigation-prev" aria-label="Previous page: SpringCloud"><i class="fa fa-angle-left"></i> </a><a href="SpringCloud（二）.html" class="navigation navigation-next" aria-label="Next page: SpringCloud（二）"><i class="fa fa-angle-right"></i></a></div><script>var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"SpringCloud（一）","level":"1.3.4.1","depth":3,"next":{"title":"SpringCloud（二）","level":"1.3.4.2","depth":3,"path":"Java/SpringCloud/SpringCloud（二）.md","ref":"Java/SpringCloud/SpringCloud（二）.md","articles":[]},"previous":{"title":"SpringCloud","level":"1.3.4","depth":2,"path":"Java/SpringCloud/README.md","ref":"Java/SpringCloud/README.md","articles":[{"title":"SpringCloud（一）","level":"1.3.4.1","depth":3,"path":"Java/SpringCloud/SpringCloud（一）.md","ref":"Java/SpringCloud/SpringCloud（一）.md","articles":[]},{"title":"SpringCloud（二）","level":"1.3.4.2","depth":3,"path":"Java/SpringCloud/SpringCloud（二）.md","ref":"Java/SpringCloud/SpringCloud（二）.md","articles":[]},{"title":"SpringCloud（三）","level":"1.3.4.3","depth":3,"path":"Java/SpringCloud/SpringCloud（三）.md","ref":"Java/SpringCloud/SpringCloud（三）.md","articles":[]},{"title":"SpringCloud（四）","level":"1.3.4.4","depth":3,"path":"Java/SpringCloud/SpringCloud（四）.md","ref":"Java/SpringCloud/SpringCloud（四）.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["code","popup","prism","-lunr","gtalk","anchors","donate","favicon","-search","github","sharing","minifier","splitter","search-pro","-highlight","livereload","insert-logo","hide-element","-fontsettings","edit-link-plus","page-toc-button","tbfed-pagefooter","back-to-top-button","expandable-chapters-small","book-summary-scroll-position-saver"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © 版权信息","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"page-treeview":{"copyright":"Copyright © aleen42","minHeaderCount":"2","minHeaderDeep":"2"},"prism":{"css":["prismjs/themes/prism-tomorrow.min.css"],"lang":{"dockerfile":"docker","conf":"yaml","c++":"c"},"ignore":["mermaid","eval-js"]},"github":{"url":"https://github.com/april-projects/.docs"},"livereload":{},"book-summary-scroll-position-saver":{},"atoc":{"addClass":true,"className":"atoc"},"minifier":{"html":{},"css":{},"js":{}},"splitter":{},"search-pro":{},"edit-link-plus":{"label":"点我反馈","base":"https://github.com/april-projects/.docs/issues"},"popup":{},"code":{"copyButtons":true},"donate":{"alipay":"https://tencent.cos.mobaijun.com/img/icon/alipay.png","alipayText":"支付宝捐赠","button":"赞赏","title":"","wechat":"https://tencent.cos.mobaijun.com/img/icon/wechat.png","wechatText":"微信捐赠"},"hide-element":{"elements":[".gitbook-link","div.vpower.txt-right"]},"gtalk":{"clientID":"f0da19fb826f620b26d6","clientSecret":"666fa5dabfb7913cf38b23fd348cf75d6f673820","repo":".docs","owner":"april-projects","admin":["mobaijun"]},"favicon":{"shortcut":"https://tencent.cos.mobaijun.com/img/gitbook/favicon.ico","bookmark":"https://tencent.cos.mobaijun.com/img/gitbook/favicon.ico","appleTouch":"https://tencent.cos.mobaijun.com/img/gitbook/apple-touch-icon.png","appleTouchMore":{"120x120":"https://tencent.cos.mobaijun.com/img/gitbook/android-chrome-192x192.png","180x180":"https://tencent.cos.mobaijun.com/img/gitbook/android-chrome-192x192.png"}},"page-toc-button":{"maxTocDepth":2,"minTocSize":2},"back-to-top-button":{},"expandable-chapters-small":{},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{},"insert-logo":{"style":"background: none; max-height: 100px; min-height: 30px","url":"https://tencent.cos.mobaijun.com/img/icon/logo.png"}},"theme":"default","author":"April","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"April","language":"zh-hans","output.name":"site","links":{"sidebar":{"框架师":"https://www.mobaijun.com","GitHub":"https://github.com/mobaijun","Gitee":"https://gitee.com/mobaijun","寻·妙":"https://nav.mobaijun.com"}},"gitbook":"3.2.3","description":"April 项目组文档"},"file":{"path":"Java/SpringCloud/SpringCloud（一）.md","mtime":"2023-04-22T07:52:22.878Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-04-22T07:53:09.108Z"},"basePath":"../..","book":{"language":""}});
        });</script></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/theme.js"></script><script src="../../gitbook/gitbook-plugin-code/plugin.js"></script><script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script><script src="../../gitbook/gitbook-plugin-github/plugin.js"></script><script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script><script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script><script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script><script src="../../gitbook/gitbook-plugin-insert-logo/plugin.js"></script><script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script><script src="../../gitbook/gitbook-plugin-edit-link-plus/plugin.js"></script><script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script><script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script><script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script><script src="../../gitbook/gitbook-plugin-book-summary-scroll-position-saver/book-summary-scroll-position-saver.js"></script></body></html>